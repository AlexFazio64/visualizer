import{s as qt,e as $,b as Y,d as V,f as X,i as D,j,O as It,v as q,k as B,l as P,P as Et,n as it,Q as ke,A as Fr,R as je,t as W,h as Q,m as rt,r as Zt,p as xt,S as tr,T as er}from"../chunks/scheduler.mIGFAMsG.js";import{S as Ft,i as Ot,b as Bt,d as Yt,m as jt,t as ft,a as yt,c as un,e as Ut,g as ln}from"../chunks/index.OuaXk_xI.js";function bt(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}const Or=!0,pl=Object.freeze(Object.defineProperty({__proto__:null,prerender:Or},Symbol.toStringTag,{value:"Module"}));function cn(t,e,n){const r=t.slice();return r[9]=e[n],r}function fn(t){let e,n=t[9]+"",r,i,o,s;return{c(){e=$("button"),r=W(n),this.h()},l(a){e=V(a,"BUTTON",{title:!0,class:!0});var u=X(e);r=Q(u,n),u.forEach(D),this.h()},h(){q(e,"title",i=t[9]),q(e,"class","svelte-5z9ov6")},m(a,u){B(a,e,u),P(e,r),o||(s=Et(e,"click",t[2]),o=!0)},p(a,u){u&1&&n!==(n=a[9]+"")&&rt(r,n),u&1&&i!==(i=a[9])&&q(e,"title",i)},d(a){a&&D(e),o=!1,s()}}}function Lr(t){let e,n,r,i,o,s,a,u,l,c,d,f="Clear",h,y,g=bt(t[0]),m=[];for(let _=0;_<g.length;_+=1)m[_]=fn(cn(t,g,_));return{c(){e=$("nav"),n=$("section"),r=$("span"),i=Y();for(let _=0;_<m.length;_+=1)m[_].c();o=Y(),s=$("span"),a=Y(),u=$("div"),l=$("input"),c=Y(),d=$("button"),d.textContent=f,this.h()},l(_){e=V(_,"NAV",{class:!0});var w=X(e);n=V(w,"SECTION",{id:!0,class:!0});var x=X(n);r=V(x,"SPAN",{}),X(r).forEach(D),i=j(x);for(let b=0;b<m.length;b+=1)m[b].l(x);o=j(x),s=V(x,"SPAN",{}),X(s).forEach(D),x.forEach(D),a=j(w),u=V(w,"DIV",{class:!0});var p=X(u);l=V(p,"INPUT",{type:!0,min:!0,max:!0,class:!0}),p.forEach(D),c=j(w),d=V(w,"BUTTON",{class:!0,"data-svelte-h":!0}),It(d)!=="svelte-11ntnzt"&&(d.textContent=f),w.forEach(D),this.h()},h(){q(n,"id","categories"),q(n,"class","svelte-5z9ov6"),q(l,"type","number"),q(l,"min","-1"),q(l,"max","250"),l.value=t[1],q(l,"class","svelte-5z9ov6"),q(u,"class","svelte-5z9ov6"),q(d,"class","clear selected svelte-5z9ov6"),q(e,"class","svelte-5z9ov6")},m(_,w){B(_,e,w),P(e,n),P(n,r),P(n,i);for(let x=0;x<m.length;x+=1)m[x]&&m[x].m(n,null);P(n,o),P(n,s),P(e,a),P(e,u),P(u,l),P(e,c),P(e,d),h||(y=[Et(l,"input",t[5]),Et(l,"blur",t[2]),Et(l,"keypress",t[6]),Et(d,"click",t[3])],h=!0)},p(_,[w]){if(w&5){g=bt(_[0]);let x;for(x=0;x<g.length;x+=1){const p=cn(_,g,x);m[x]?m[x].p(p,w):(m[x]=fn(p),m[x].c(),m[x].m(n,o))}for(;x<m.length;x+=1)m[x].d(1);m.length=g.length}w&2&&l.value!==_[1]&&(l.value=_[1])},i:it,o:it,d(_){_&&D(e),ke(m,_),h=!1,Fr(y)}}}function $r(t,e,n){const r=je();let{show_distribution:i=!1}=e,{categories_set:o=new Set}=e,s=new Set,a=0;function u({target:f}){const h=f.title?f.title:null;h!==null&&(f.classList.toggle("selected"),i?s.has(h)?s=new Set:(s=new Set([h]),document.querySelectorAll("section>button").forEach(y=>{y.classList.remove("selected")}),f.classList.add("selected")):s.has(h)?s.delete(h):s.add(h)),s=s,r("filter",{degrees:a,categories:s})}function l(f){s=new Set,n(1,a=-1),document.querySelectorAll("section>button.selected").forEach(h=>{h.classList.remove("selected")}),r("filter",{degrees:a,categories:s}),r("clear")}const c=f=>n(1,a=f.target.value),d=f=>{f.key==="Enter"&&u(f)};return t.$$set=f=>{"show_distribution"in f&&n(4,i=f.show_distribution),"categories_set"in f&&n(0,o=f.categories_set)},t.$$.update=()=>{t.$$.dirty&1&&n(0,o=Array.from(o).sort())},[o,a,u,l,i,c,d]}class Vr extends Ft{constructor(e){super(),Ot(this,e,$r,Lr,qt,{show_distribution:4,categories_set:0})}}function Xr(t){let e,n,r,i,o;return{c(){e=$("section"),n=$("div"),r=$("input"),this.h()},l(s){e=V(s,"SECTION",{class:!0});var a=X(e);n=V(a,"DIV",{class:!0});var u=X(n);r=V(u,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),u.forEach(D),a.forEach(D),this.h()},h(){q(r,"id","search"),q(r,"type","text"),q(r,"placeholder","search nodes"),q(r,"class","svelte-a4xstj"),q(n,"class","svelte-a4xstj"),q(e,"class","svelte-a4xstj")},m(s,a){B(s,e,a),P(e,n),P(n,r),i||(o=Et(r,"keypress",t[1]),i=!0)},p:it,i:it,o:it,d(s){s&&D(e),i=!1,o()}}}function Hr(t){const e=je();return Zt(()=>{document.getElementById("search").focus()}),[e,r=>{r.key==="Enter"&&e("search",{query:r.target.value})}]}class Br extends Ft{constructor(e){super(),Ot(this,e,Hr,Xr,qt,{})}}function hn(t,e,n){const r=t.slice();return r[6]=e[n],r}function dn(t,e,n){const r=t.slice();return r[9]=e[n],r}function gn(t,e,n){const r=t.slice();return r[12]=e[n],r}function pn(t){let e,n='<code class="svelte-1av388z">CTRL+ALT+D</code> <p class="hint">(show / hide) degree distribution</p> <code class="svelte-1av388z">ALT+P</code> <p class="hint">(show / hide) search bar</p> <code class="svelte-1av388z">ESC</code> <p class="hint">hide search bar</p> <code class="svelte-1av388z">ESC</code> <p class="hint">reset graph</p> <code class="svelte-1av388z">LMB</code> <p class="hint">(show / hide) node info</p> <code class="svelte-1av388z">LMB+SHIFT</code> <p class="hint">set node as graph root</p> <code class="svelte-1av388z">MWheel U/D</code> <p class="hint">scale the graph</p> <code class="svelte-1av388z">LMB (drag)</code> <p class="hint">(on empty space) pan the graph</p> <code class="svelte-1av388z">LMB (drag)</code> <p class="hint">(on node) drag the node</p> <p class="no-key svelte-1av388z">select 2 nodes to show edges</p> <p class="no-key svelte-1av388z">filter nodes by degree by changing value</p> <p class="no-key svelte-1av388z">filter nodes by category</p>';return{c(){e=$("div"),e.innerHTML=n,this.h()},l(r){e=V(r,"DIV",{class:!0,"data-svelte-h":!0}),It(e)!=="svelte-1h8i2m3"&&(e.innerHTML=n),this.h()},h(){q(e,"class","help svelte-1av388z")},m(r,i){B(r,e,i)},d(r){r&&D(e)}}}function mn(t){let e,n="Nodes",r,i,o=bt(t[0]),s=[];for(let a=0;a<o.length;a+=1)s[a]=wn(dn(t,o,a));return{c(){e=$("p"),e.textContent=n,r=Y();for(let a=0;a<s.length;a+=1)s[a].c();i=xt(),this.h()},l(a){e=V(a,"P",{class:!0,"data-svelte-h":!0}),It(e)!=="svelte-k1dat1"&&(e.textContent=n),r=j(a);for(let u=0;u<s.length;u+=1)s[u].l(a);i=xt(),this.h()},h(){q(e,"class","sticky svelte-1av388z")},m(a,u){B(a,e,u),B(a,r,u);for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(a,u);B(a,i,u)},p(a,u){if(u&29){o=bt(a[0]);let l;for(l=0;l<o.length;l+=1){const c=dn(a,o,l);s[l]?s[l].p(c,u):(s[l]=wn(c),s[l].c(),s[l].m(i.parentNode,i))}for(;l<s.length;l+=1)s[l].d(1);s.length=o.length}},d(a){a&&(D(e),D(r),D(i)),ke(s,a)}}}function _n(t){let e,n=bt(t[2].get(t[9])),r=[];for(let i=0;i<n.length;i+=1)r[i]=yn(gn(t,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=xt()},l(i){for(let o=0;o<r.length;o+=1)r[o].l(i);e=xt()},m(i,o){for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(i,o);B(i,e,o)},p(i,o){if(o&5){n=bt(i[2].get(i[9]));let s;for(s=0;s<n.length;s+=1){const a=gn(i,n,s);r[s]?r[s].p(a,o):(r[s]=yn(a),r[s].c(),r[s].m(e.parentNode,e))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(i){i&&D(e),ke(r,i)}}}function yn(t){let e,n=t[12].text+"",r;return{c(){e=$("p"),r=W(n),this.h()},l(i){e=V(i,"P",{class:!0});var o=X(e);r=Q(o,n),o.forEach(D),this.h()},h(){q(e,"class","category svelte-1av388z")},m(i,o){B(i,e,o),P(e,r)},p(i,o){o&5&&n!==(n=i[12].text+"")&&rt(r,n)},d(i){i&&D(e)}}}function vn(t){let e,n=t[4](t[9])+"",r;return{c(){e=$("p"),r=W(n),this.h()},l(i){e=V(i,"P",{class:!0});var o=X(e);r=Q(o,n),o.forEach(D),this.h()},h(){q(e,"class","node")},m(i,o){B(i,e,o),P(e,r)},p(i,o){o&1&&n!==(n=i[4](i[9])+"")&&rt(r,n)},d(i){i&&D(e)}}}function wn(t){let e,n=t[9]+"",r,i,o,s,a=t[3].get(t[9])+"",u,l,c=t[2].has(t[9]),d,f,h=c&&_n(t),y=t[0].length===1&&vn(t);return{c(){e=$("p"),r=W(n),i=Y(),o=$("p"),s=W("Degree: "),u=W(a),l=Y(),h&&h.c(),d=Y(),y&&y.c(),f=xt(),this.h()},l(g){e=V(g,"P",{class:!0});var m=X(e);r=Q(m,n),m.forEach(D),i=j(g),o=V(g,"P",{class:!0});var _=X(o);s=Q(_,"Degree: "),u=Q(_,a),_.forEach(D),l=j(g),h&&h.l(g),d=j(g),y&&y.l(g),f=xt(),this.h()},h(){q(e,"class","node"),q(o,"class","node")},m(g,m){B(g,e,m),P(e,r),B(g,i,m),B(g,o,m),P(o,s),P(o,u),B(g,l,m),h&&h.m(g,m),B(g,d,m),y&&y.m(g,m),B(g,f,m)},p(g,m){m&1&&n!==(n=g[9]+"")&&rt(r,n),m&9&&a!==(a=g[3].get(g[9])+"")&&rt(u,a),m&5&&(c=g[2].has(g[9])),c?h?h.p(g,m):(h=_n(g),h.c(),h.m(d.parentNode,d)):h&&(h.d(1),h=null),g[0].length===1?y?y.p(g,m):(y=vn(g),y.c(),y.m(f.parentNode,f)):y&&(y.d(1),y=null)},d(g){g&&(D(e),D(i),D(o),D(l),D(d),D(f)),h&&h.d(g),y&&y.d(g)}}}function xn(t){let e,n="Edges",r,i,o=bt(t[1]),s=[];for(let a=0;a<o.length;a+=1)s[a]=bn(hn(t,o,a));return{c(){e=$("p"),e.textContent=n,r=Y();for(let a=0;a<s.length;a+=1)s[a].c();i=xt(),this.h()},l(a){e=V(a,"P",{class:!0,"data-svelte-h":!0}),It(e)!=="svelte-mx0eok"&&(e.textContent=n),r=j(a);for(let u=0;u<s.length;u+=1)s[u].l(a);i=xt(),this.h()},h(){q(e,"class","sticky svelte-1av388z")},m(a,u){B(a,e,u),B(a,r,u);for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(a,u);B(a,i,u)},p(a,u){if(u&2){o=bt(a[1]);let l;for(l=0;l<o.length;l+=1){const c=hn(a,o,l);s[l]?s[l].p(c,u):(s[l]=bn(c),s[l].c(),s[l].m(i.parentNode,i))}for(;l<s.length;l+=1)s[l].d(1);s.length=o.length}},d(a){a&&(D(e),D(r),D(i)),ke(s,a)}}}function bn(t){let e,n=t[6]+"",r;return{c(){e=$("p"),r=W(n),this.h()},l(i){e=V(i,"P",{class:!0});var o=X(e);r=Q(o,n),o.forEach(D),this.h()},h(){q(e,"class","link")},m(i,o){B(i,e,o),P(e,r)},p(i,o){o&2&&n!==(n=i[6]+"")&&rt(r,n)},d(i){i&&D(e)}}}function Yr(t){let e,n,r,i=t[0].length===0&&pn(),o=t[0].length!==0&&mn(t),s=t[1].length!==0&&xn(t);return{c(){e=$("div"),i&&i.c(),n=Y(),o&&o.c(),r=Y(),s&&s.c(),this.h()},l(a){e=V(a,"DIV",{class:!0});var u=X(e);i&&i.l(u),n=j(u),o&&o.l(u),r=j(u),s&&s.l(u),u.forEach(D),this.h()},h(){q(e,"class","side svelte-1av388z")},m(a,u){B(a,e,u),i&&i.m(e,null),P(e,n),o&&o.m(e,null),P(e,r),s&&s.m(e,null)},p(a,[u]){a[0].length===0?i||(i=pn(),i.c(),i.m(e,n)):i&&(i.d(1),i=null),a[0].length!==0?o?o.p(a,u):(o=mn(a),o.c(),o.m(e,r)):o&&(o.d(1),o=null),a[1].length!==0?s?s.p(a,u):(s=xn(a),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},i:it,o:it,d(a){a&&D(e),i&&i.d(),o&&o.d(),s&&s.d()}}}function jr(t,e,n){const r=new Map;Zt(async()=>{await fetch("/nodes.json").then(l=>l.json()).then(l=>{for(let c of l)r.set(c.id,c.Description)})});let{selected_arr:i=[]}=e,{edges:o=[]}=e,{categories_map:s=new Map}=e,{degrees:a=new Map}=e;function u(l){return r.get(l)}return t.$$set=l=>{"selected_arr"in l&&n(0,i=l.selected_arr),"edges"in l&&n(1,o=l.edges),"categories_map"in l&&n(2,s=l.categories_map),"degrees"in l&&n(3,a=l.degrees)},[i,o,s,a,u]}class Ur extends Ft{constructor(e){super(),Ot(this,e,jr,Yr,qt,{selected_arr:0,edges:1,categories_map:2,degrees:3})}}function ue(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Kr(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function nr(t){let e,n,r;t.length!==2?(e=ue,n=(a,u)=>ue(t(a),u),r=(a,u)=>t(a)-u):(e=t===ue||t===Kr?t:Gr,n=t,r=t);function i(a,u,l=0,c=a.length){if(l<c){if(e(u,u)!==0)return c;do{const d=l+c>>>1;n(a[d],u)<0?l=d+1:c=d}while(l<c)}return l}function o(a,u,l=0,c=a.length){if(l<c){if(e(u,u)!==0)return c;do{const d=l+c>>>1;n(a[d],u)<=0?l=d+1:c=d}while(l<c)}return l}function s(a,u,l=0,c=a.length){const d=i(a,u,l,c-1);return d>l&&r(a[d-1],u)>-r(a[d],u)?d-1:d}return{left:i,center:s,right:o}}function Gr(){return 0}function Wr(t){return t===null?NaN:+t}const Qr=nr(ue),Zr=Qr.right;nr(Wr).center;class kn extends Map{constructor(e,n=ei){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Mn(this,e))}has(e){return super.has(Mn(this,e))}set(e,n){return super.set(Jr(this,e),n)}delete(e){return super.delete(ti(this,e))}}function Mn({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Jr({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function ti({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function ei(t){return t!==null&&typeof t=="object"?t.valueOf():t}const ni=Math.sqrt(50),ri=Math.sqrt(10),ii=Math.sqrt(2);function de(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=ni?10:o>=ri?5:o>=ii?2:1;let a,u,l;return i<0?(l=Math.pow(10,-i)/s,a=Math.round(t*l),u=Math.round(e*l),a/l<t&&++a,u/l>e&&--u,l=-l):(l=Math.pow(10,i)*s,a=Math.round(t/l),u=Math.round(e/l),a*l<t&&++a,u*l>e&&--u),u<a&&.5<=n&&n<2?de(t,e,n*2):[a,u,l]}function oi(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?de(e,t,n):de(t,e,n);if(!(o>=i))return[];const a=o-i+1,u=new Array(a);if(r)if(s<0)for(let l=0;l<a;++l)u[l]=(o-l)/-s;else for(let l=0;l<a;++l)u[l]=(o-l)*s;else if(s<0)for(let l=0;l<a;++l)u[l]=(i+l)/-s;else for(let l=0;l<a;++l)u[l]=(i+l)*s;return u}function De(t,e,n){return e=+e,t=+t,n=+n,de(t,e,n)[2]}function si(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?De(e,t,n):De(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function ai(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function ui(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function li(t){return t}var Se=1,ze=2,Re=3,Vt=4,Nn=1e-6;function ci(t){return"translate("+t+",0)"}function fi(t){return"translate(0,"+t+")"}function hi(t){return e=>+t(e)}function di(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function gi(){return!this.__axis}function rr(t,e){var n=[],r=null,i=null,o=6,s=6,a=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,l=t===Se||t===Vt?-1:1,c=t===Vt||t===ze?"x":"y",d=t===Se||t===Re?ci:fi;function f(h){var y=r??(e.ticks?e.ticks.apply(e,n):e.domain()),g=i??(e.tickFormat?e.tickFormat.apply(e,n):li),m=Math.max(o,0)+a,_=e.range(),w=+_[0]+u,x=+_[_.length-1]+u,p=(e.bandwidth?di:hi)(e.copy(),u),b=h.selection?h.selection():h,E=b.selectAll(".domain").data([null]),S=b.selectAll(".tick").data(y,e).order(),F=S.exit(),O=S.enter().append("g").attr("class","tick"),T=S.select("line"),N=S.select("text");E=E.merge(E.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),S=S.merge(O),T=T.merge(O.append("line").attr("stroke","currentColor").attr(c+"2",l*o)),N=N.merge(O.append("text").attr("fill","currentColor").attr(c,l*m).attr("dy",t===Se?"0em":t===Re?"0.71em":"0.32em")),h!==b&&(E=E.transition(h),S=S.transition(h),T=T.transition(h),N=N.transition(h),F=F.transition(h).attr("opacity",Nn).attr("transform",function(C){return isFinite(C=p(C))?d(C+u):this.getAttribute("transform")}),O.attr("opacity",Nn).attr("transform",function(C){var z=this.parentNode.__axis;return d((z&&isFinite(z=z(C))?z:p(C))+u)})),F.remove(),E.attr("d",t===Vt||t===ze?s?"M"+l*s+","+w+"H"+u+"V"+x+"H"+l*s:"M"+u+","+w+"V"+x:s?"M"+w+","+l*s+"V"+u+"H"+x+"V"+l*s:"M"+w+","+u+"H"+x),S.attr("opacity",1).attr("transform",function(C){return d(p(C)+u)}),T.attr(c+"2",l*o),N.attr(c,l*m).text(g),b.filter(gi).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===ze?"start":t===Vt?"end":"middle"),b.each(function(){this.__axis=p})}return f.scale=function(h){return arguments.length?(e=h,f):e},f.ticks=function(){return n=Array.from(arguments),f},f.tickArguments=function(h){return arguments.length?(n=h==null?[]:Array.from(h),f):n.slice()},f.tickValues=function(h){return arguments.length?(r=h==null?null:Array.from(h),f):r&&r.slice()},f.tickFormat=function(h){return arguments.length?(i=h,f):i},f.tickSize=function(h){return arguments.length?(o=s=+h,f):o},f.tickSizeInner=function(h){return arguments.length?(o=+h,f):o},f.tickSizeOuter=function(h){return arguments.length?(s=+h,f):s},f.tickPadding=function(h){return arguments.length?(a=+h,f):a},f.offset=function(h){return arguments.length?(u=+h,f):u},f}function pi(t){return rr(Re,t)}function mi(t){return rr(Vt,t)}var _i={value:()=>{}};function Jt(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new le(n)}function le(t){this._=t}function yi(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}le.prototype=Jt.prototype={constructor:le,on:function(t,e){var n=this._,r=yi(t+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(t=r[o]).type)&&(i=vi(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<s;)if(i=(t=r[o]).type)n[i]=An(n[i],t.name,e);else if(e==null)for(i in n)n[i]=An(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new le(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function vi(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function An(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=_i,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var qe="http://www.w3.org/1999/xhtml";const En={svg:"http://www.w3.org/2000/svg",xhtml:qe,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Me(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),En.hasOwnProperty(e)?{space:En[e],local:t}:t}function wi(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===qe&&e.documentElement.namespaceURI===qe?e.createElement(t):e.createElementNS(n,t)}}function xi(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function ir(t){var e=Me(t);return(e.local?xi:wi)(e)}function bi(){}function Ue(t){return t==null?bi:function(){return this.querySelector(t)}}function ki(t){typeof t!="function"&&(t=Ue(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=new Array(s),u,l,c=0;c<s;++c)(u=o[c])&&(l=t.call(u,u.__data__,c,o))&&("__data__"in u&&(l.__data__=u.__data__),a[c]=l);return new J(r,this._parents)}function or(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Mi(){return[]}function sr(t){return t==null?Mi:function(){return this.querySelectorAll(t)}}function Ni(t){return function(){return or(t.apply(this,arguments))}}function Ai(t){typeof t=="function"?t=Ni(t):t=sr(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var s=e[o],a=s.length,u,l=0;l<a;++l)(u=s[l])&&(r.push(t.call(u,u.__data__,l,s)),i.push(u));return new J(r,i)}function ar(t){return function(){return this.matches(t)}}function ur(t){return function(e){return e.matches(t)}}var Ei=Array.prototype.find;function Si(t){return function(){return Ei.call(this.children,t)}}function zi(){return this.firstElementChild}function Ti(t){return this.select(t==null?zi:Si(typeof t=="function"?t:ur(t)))}var Ci=Array.prototype.filter;function Ii(){return Array.from(this.children)}function Pi(t){return function(){return Ci.call(this.children,t)}}function Di(t){return this.selectAll(t==null?Ii:Pi(typeof t=="function"?t:ur(t)))}function Ri(t){typeof t!="function"&&(t=ar(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=[],u,l=0;l<s;++l)(u=o[l])&&t.call(u,u.__data__,l,o)&&a.push(u);return new J(r,this._parents)}function lr(t){return new Array(t.length)}function qi(){return new J(this._enter||this._groups.map(lr),this._parents)}function ge(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}ge.prototype={constructor:ge,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Fi(t){return function(){return t}}function Oi(t,e,n,r,i,o){for(var s=0,a,u=e.length,l=o.length;s<l;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new ge(t,o[s]);for(;s<u;++s)(a=e[s])&&(i[s]=a)}function Li(t,e,n,r,i,o,s){var a,u,l=new Map,c=e.length,d=o.length,f=new Array(c),h;for(a=0;a<c;++a)(u=e[a])&&(f[a]=h=s.call(u,u.__data__,a,e)+"",l.has(h)?i[a]=u:l.set(h,u));for(a=0;a<d;++a)h=s.call(t,o[a],a,o)+"",(u=l.get(h))?(r[a]=u,u.__data__=o[a],l.delete(h)):n[a]=new ge(t,o[a]);for(a=0;a<c;++a)(u=e[a])&&l.get(f[a])===u&&(i[a]=u)}function $i(t){return t.__data__}function Vi(t,e){if(!arguments.length)return Array.from(this,$i);var n=e?Li:Oi,r=this._parents,i=this._groups;typeof t!="function"&&(t=Fi(t));for(var o=i.length,s=new Array(o),a=new Array(o),u=new Array(o),l=0;l<o;++l){var c=r[l],d=i[l],f=d.length,h=Xi(t.call(c,c&&c.__data__,l,r)),y=h.length,g=a[l]=new Array(y),m=s[l]=new Array(y),_=u[l]=new Array(f);n(c,d,g,m,_,h,e);for(var w=0,x=0,p,b;w<y;++w)if(p=g[w]){for(w>=x&&(x=w+1);!(b=m[x])&&++x<y;);p._next=b||null}}return s=new J(s,r),s._enter=a,s._exit=u,s}function Xi(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Hi(){return new J(this._exit||this._groups.map(lr),this._parents)}function Bi(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function Yi(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),u=0;u<s;++u)for(var l=n[u],c=r[u],d=l.length,f=a[u]=new Array(d),h,y=0;y<d;++y)(h=l[y]||c[y])&&(f[y]=h);for(;u<i;++u)a[u]=n[u];return new J(a,this._parents)}function ji(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function Ui(t){t||(t=Ki);function e(d,f){return d&&f?t(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],a=s.length,u=i[o]=new Array(a),l,c=0;c<a;++c)(l=s[c])&&(u[c]=l);u.sort(e)}return new J(i,this._parents).order()}function Ki(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Gi(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Wi(){return Array.from(this)}function Qi(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function Zi(){let t=0;for(const e of this)++t;return t}function Ji(){return!this.node()}function to(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,s=i.length,a;o<s;++o)(a=i[o])&&t.call(a,a.__data__,o,i);return this}function eo(t){return function(){this.removeAttribute(t)}}function no(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ro(t,e){return function(){this.setAttribute(t,e)}}function io(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function oo(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function so(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function ao(t,e){var n=Me(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?no:eo:typeof e=="function"?n.local?so:oo:n.local?io:ro)(n,e))}function cr(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function uo(t){return function(){this.style.removeProperty(t)}}function lo(t,e,n){return function(){this.style.setProperty(t,e,n)}}function co(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function fo(t,e,n){return arguments.length>1?this.each((e==null?uo:typeof e=="function"?co:lo)(t,e,n??"")):Pt(this.node(),t)}function Pt(t,e){return t.style.getPropertyValue(e)||cr(t).getComputedStyle(t,null).getPropertyValue(e)}function ho(t){return function(){delete this[t]}}function go(t,e){return function(){this[t]=e}}function po(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function mo(t,e){return arguments.length>1?this.each((e==null?ho:typeof e=="function"?po:go)(t,e)):this.node()[t]}function fr(t){return t.trim().split(/^|\s+/)}function Ke(t){return t.classList||new hr(t)}function hr(t){this._node=t,this._names=fr(t.getAttribute("class")||"")}hr.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function dr(t,e){for(var n=Ke(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function gr(t,e){for(var n=Ke(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function _o(t){return function(){dr(this,t)}}function yo(t){return function(){gr(this,t)}}function vo(t,e){return function(){(e.apply(this,arguments)?dr:gr)(this,t)}}function wo(t,e){var n=fr(t+"");if(arguments.length<2){for(var r=Ke(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?vo:e?_o:yo)(n,e))}function xo(){this.textContent=""}function bo(t){return function(){this.textContent=t}}function ko(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Mo(t){return arguments.length?this.each(t==null?xo:(typeof t=="function"?ko:bo)(t)):this.node().textContent}function No(){this.innerHTML=""}function Ao(t){return function(){this.innerHTML=t}}function Eo(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function So(t){return arguments.length?this.each(t==null?No:(typeof t=="function"?Eo:Ao)(t)):this.node().innerHTML}function zo(){this.nextSibling&&this.parentNode.appendChild(this)}function To(){return this.each(zo)}function Co(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Io(){return this.each(Co)}function Po(t){var e=typeof t=="function"?t:ir(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Do(){return null}function Ro(t,e){var n=typeof t=="function"?t:ir(t),r=e==null?Do:typeof e=="function"?e:Ue(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function qo(){var t=this.parentNode;t&&t.removeChild(this)}function Fo(){return this.each(qo)}function Oo(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Lo(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function $o(t){return this.select(t?Lo:Oo)}function Vo(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Xo(t){return function(e){t.call(this,e,this.__data__)}}function Ho(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Bo(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function Yo(t,e,n){return function(){var r=this.__on,i,o=Xo(e);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function jo(t,e,n){var r=Ho(t+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var u=0,l=a.length,c;u<l;++u)for(i=0,c=a[u];i<o;++i)if((s=r[i]).type===c.type&&s.name===c.name)return c.value}return}for(a=e?Yo:Bo,i=0;i<o;++i)this.each(a(r[i],e,n));return this}function pr(t,e,n){var r=cr(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Uo(t,e){return function(){return pr(this,t,e)}}function Ko(t,e){return function(){return pr(this,t,e.apply(this,arguments))}}function Go(t,e){return this.each((typeof e=="function"?Ko:Uo)(t,e))}function*Wo(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var Ge=[null];function J(t,e){this._groups=t,this._parents=e}function te(){return new J([[document.documentElement]],Ge)}function Qo(){return this}J.prototype=te.prototype={constructor:J,select:ki,selectAll:Ai,selectChild:Ti,selectChildren:Di,filter:Ri,data:Vi,enter:qi,exit:Hi,join:Bi,merge:Yi,selection:Qo,order:ji,sort:Ui,call:Gi,nodes:Wi,node:Qi,size:Zi,empty:Ji,each:to,attr:ao,style:fo,property:mo,classed:wo,text:Mo,html:So,raise:To,lower:Io,append:Po,insert:Ro,remove:Fo,clone:$o,datum:Vo,on:jo,dispatch:Go,[Symbol.iterator]:Wo};function G(t){return typeof t=="string"?new J([[document.querySelector(t)]],[document.documentElement]):new J([[t]],Ge)}function Zo(t){let e;for(;e=t.sourceEvent;)t=e;return t}function _t(t,e){if(t=Zo(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function Jo(t){return typeof t=="string"?new J([document.querySelectorAll(t)],[document.documentElement]):new J([or(t)],Ge)}const ts={passive:!1},Kt={capture:!0,passive:!1};function Te(t){t.stopImmediatePropagation()}function Tt(t){t.preventDefault(),t.stopImmediatePropagation()}function mr(t){var e=t.document.documentElement,n=G(t).on("dragstart.drag",Tt,Kt);"onselectstart"in e?n.on("selectstart.drag",Tt,Kt):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function _r(t,e){var n=t.document.documentElement,r=G(t).on("dragstart.drag",null);e&&(r.on("click.drag",Tt,Kt),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const ne=t=>()=>t;function Fe(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:o,x:s,y:a,dx:u,dy:l,dispatch:c}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:l,enumerable:!0,configurable:!0},_:{value:c}})}Fe.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function es(t){return!t.ctrlKey&&!t.button}function ns(){return this.parentNode}function rs(t,e){return e??{x:t.x,y:t.y}}function is(){return navigator.maxTouchPoints||"ontouchstart"in this}function os(){var t=es,e=ns,n=rs,r=is,i={},o=Jt("start","drag","end"),s=0,a,u,l,c,d=0;function f(p){p.on("mousedown.drag",h).filter(r).on("touchstart.drag",m).on("touchmove.drag",_,ts).on("touchend.drag touchcancel.drag",w).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(p,b){if(!(c||!t.call(this,p,b))){var E=x(this,e.call(this,p,b),p,b,"mouse");E&&(G(p.view).on("mousemove.drag",y,Kt).on("mouseup.drag",g,Kt),mr(p.view),Te(p),l=!1,a=p.clientX,u=p.clientY,E("start",p))}}function y(p){if(Tt(p),!l){var b=p.clientX-a,E=p.clientY-u;l=b*b+E*E>d}i.mouse("drag",p)}function g(p){G(p.view).on("mousemove.drag mouseup.drag",null),_r(p.view,l),Tt(p),i.mouse("end",p)}function m(p,b){if(t.call(this,p,b)){var E=p.changedTouches,S=e.call(this,p,b),F=E.length,O,T;for(O=0;O<F;++O)(T=x(this,S,p,b,E[O].identifier,E[O]))&&(Te(p),T("start",p,E[O]))}}function _(p){var b=p.changedTouches,E=b.length,S,F;for(S=0;S<E;++S)(F=i[b[S].identifier])&&(Tt(p),F("drag",p,b[S]))}function w(p){var b=p.changedTouches,E=b.length,S,F;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),S=0;S<E;++S)(F=i[b[S].identifier])&&(Te(p),F("end",p,b[S]))}function x(p,b,E,S,F,O){var T=o.copy(),N=_t(O||E,b),C,z,v;if((v=n.call(p,new Fe("beforestart",{sourceEvent:E,target:f,identifier:F,active:s,x:N[0],y:N[1],dx:0,dy:0,dispatch:T}),S))!=null)return C=v.x-N[0]||0,z=v.y-N[1]||0,function A(k,M,I){var R=N,L;switch(k){case"start":i[F]=A,L=s++;break;case"end":delete i[F],--s;case"drag":N=_t(I||M,b),L=s;break}T.call(k,p,new Fe(k,{sourceEvent:M,subject:v,target:f,identifier:F,active:L,x:N[0]+C,y:N[1]+z,dx:N[0]-R[0],dy:N[1]-R[1],dispatch:T}),S)}}return f.filter=function(p){return arguments.length?(t=typeof p=="function"?p:ne(!!p),f):t},f.container=function(p){return arguments.length?(e=typeof p=="function"?p:ne(p),f):e},f.subject=function(p){return arguments.length?(n=typeof p=="function"?p:ne(p),f):n},f.touchable=function(p){return arguments.length?(r=typeof p=="function"?p:ne(!!p),f):r},f.on=function(){var p=o.on.apply(o,arguments);return p===o?f:p},f.clickDistance=function(p){return arguments.length?(d=(p=+p)*p,f):Math.sqrt(d)},f}function We(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function yr(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ee(){}var Gt=.7,pe=1/Gt,Ct="\\s*([+-]?\\d+)\\s*",Wt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ht="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ss=/^#([0-9a-f]{3,8})$/,as=new RegExp(`^rgb\\(${Ct},${Ct},${Ct}\\)$`),us=new RegExp(`^rgb\\(${ht},${ht},${ht}\\)$`),ls=new RegExp(`^rgba\\(${Ct},${Ct},${Ct},${Wt}\\)$`),cs=new RegExp(`^rgba\\(${ht},${ht},${ht},${Wt}\\)$`),fs=new RegExp(`^hsl\\(${Wt},${ht},${ht}\\)$`),hs=new RegExp(`^hsla\\(${Wt},${ht},${ht},${Wt}\\)$`),Sn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};We(ee,Nt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:zn,formatHex:zn,formatHex8:ds,formatHsl:gs,formatRgb:Tn,toString:Tn});function zn(){return this.rgb().formatHex()}function ds(){return this.rgb().formatHex8()}function gs(){return vr(this).formatHsl()}function Tn(){return this.rgb().formatRgb()}function Nt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=ss.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Cn(e):n===3?new et(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?re(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?re(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=as.exec(t))?new et(e[1],e[2],e[3],1):(e=us.exec(t))?new et(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=ls.exec(t))?re(e[1],e[2],e[3],e[4]):(e=cs.exec(t))?re(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=fs.exec(t))?Dn(e[1],e[2]/100,e[3]/100,1):(e=hs.exec(t))?Dn(e[1],e[2]/100,e[3]/100,e[4]):Sn.hasOwnProperty(t)?Cn(Sn[t]):t==="transparent"?new et(NaN,NaN,NaN,0):null}function Cn(t){return new et(t>>16&255,t>>8&255,t&255,1)}function re(t,e,n,r){return r<=0&&(t=e=n=NaN),new et(t,e,n,r)}function ps(t){return t instanceof ee||(t=Nt(t)),t?(t=t.rgb(),new et(t.r,t.g,t.b,t.opacity)):new et}function Oe(t,e,n,r){return arguments.length===1?ps(t):new et(t,e,n,r??1)}function et(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}We(et,Oe,yr(ee,{brighter(t){return t=t==null?pe:Math.pow(pe,t),new et(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Gt:Math.pow(Gt,t),new et(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new et(Mt(this.r),Mt(this.g),Mt(this.b),me(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:In,formatHex:In,formatHex8:ms,formatRgb:Pn,toString:Pn}));function In(){return`#${kt(this.r)}${kt(this.g)}${kt(this.b)}`}function ms(){return`#${kt(this.r)}${kt(this.g)}${kt(this.b)}${kt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Pn(){const t=me(this.opacity);return`${t===1?"rgb(":"rgba("}${Mt(this.r)}, ${Mt(this.g)}, ${Mt(this.b)}${t===1?")":`, ${t})`}`}function me(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Mt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function kt(t){return t=Mt(t),(t<16?"0":"")+t.toString(16)}function Dn(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ut(t,e,n,r)}function vr(t){if(t instanceof ut)return new ut(t.h,t.s,t.l,t.opacity);if(t instanceof ee||(t=Nt(t)),!t)return new ut;if(t instanceof ut)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,u=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=u<.5?o+i:2-o-i,s*=60):a=u>0&&u<1?0:s,new ut(s,a,u,t.opacity)}function _s(t,e,n,r){return arguments.length===1?vr(t):new ut(t,e,n,r??1)}function ut(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}We(ut,_s,yr(ee,{brighter(t){return t=t==null?pe:Math.pow(pe,t),new ut(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Gt:Math.pow(Gt,t),new ut(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new et(Ce(t>=240?t-240:t+120,i,r),Ce(t,i,r),Ce(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ut(Rn(this.h),ie(this.s),ie(this.l),me(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=me(this.opacity);return`${t===1?"hsl(":"hsla("}${Rn(this.h)}, ${ie(this.s)*100}%, ${ie(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Rn(t){return t=(t||0)%360,t<0?t+360:t}function ie(t){return Math.max(0,Math.min(1,t||0))}function Ce(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Qe=t=>()=>t;function ys(t,e){return function(n){return t+n*e}}function vs(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function ws(t){return(t=+t)==1?wr:function(e,n){return n-e?vs(e,n,t):Qe(isNaN(e)?n:e)}}function wr(t,e){var n=e-t;return n?ys(t,n):Qe(isNaN(t)?e:t)}const _e=function t(e){var n=ws(e);function r(i,o){var s=n((i=Oe(i)).r,(o=Oe(o)).r),a=n(i.g,o.g),u=n(i.b,o.b),l=wr(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=u(c),i.opacity=l(c),i+""}}return r.gamma=t,r}(1);function xs(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function bs(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ks(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Ze(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function Ms(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function at(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Ns(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Ze(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Le=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ie=new RegExp(Le.source,"g");function As(t){return function(){return t}}function Es(t){return function(e){return t(e)+""}}function xr(t,e){var n=Le.lastIndex=Ie.lastIndex=0,r,i,o,s=-1,a=[],u=[];for(t=t+"",e=e+"";(r=Le.exec(t))&&(i=Ie.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,u.push({i:s,x:at(r,i)})),n=Ie.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?u[0]?Es(u[0].x):As(e):(e=u.length,function(l){for(var c=0,d;c<e;++c)a[(d=u[c]).i]=d.x(l);return a.join("")})}function Ze(t,e){var n=typeof e,r;return e==null||n==="boolean"?Qe(e):(n==="number"?at:n==="string"?(r=Nt(e))?(e=r,_e):xr:e instanceof Nt?_e:e instanceof Date?Ms:bs(e)?xs:Array.isArray(e)?ks:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Ns:at)(t,e)}function Ss(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var qn=180/Math.PI,$e={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function br(t,e,n,r,i,o){var s,a,u;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,u/=a),t*r<e*n&&(t=-t,e=-e,u=-u,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*qn,skewX:Math.atan(u)*qn,scaleX:s,scaleY:a}}var oe;function zs(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?$e:br(e.a,e.b,e.c,e.d,e.e,e.f)}function Ts(t){return t==null||(oe||(oe=document.createElementNS("http://www.w3.org/2000/svg","g")),oe.setAttribute("transform",t),!(t=oe.transform.baseVal.consolidate()))?$e:(t=t.matrix,br(t.a,t.b,t.c,t.d,t.e,t.f))}function kr(t,e,n,r){function i(l){return l.length?l.pop()+" ":""}function o(l,c,d,f,h,y){if(l!==d||c!==f){var g=h.push("translate(",null,e,null,n);y.push({i:g-4,x:at(l,d)},{i:g-2,x:at(c,f)})}else(d||f)&&h.push("translate("+d+e+f+n)}function s(l,c,d,f){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),f.push({i:d.push(i(d)+"rotate(",null,r)-2,x:at(l,c)})):c&&d.push(i(d)+"rotate("+c+r)}function a(l,c,d,f){l!==c?f.push({i:d.push(i(d)+"skewX(",null,r)-2,x:at(l,c)}):c&&d.push(i(d)+"skewX("+c+r)}function u(l,c,d,f,h,y){if(l!==d||c!==f){var g=h.push(i(h)+"scale(",null,",",null,")");y.push({i:g-4,x:at(l,d)},{i:g-2,x:at(c,f)})}else(d!==1||f!==1)&&h.push(i(h)+"scale("+d+","+f+")")}return function(l,c){var d=[],f=[];return l=t(l),c=t(c),o(l.translateX,l.translateY,c.translateX,c.translateY,d,f),s(l.rotate,c.rotate,d,f),a(l.skewX,c.skewX,d,f),u(l.scaleX,l.scaleY,c.scaleX,c.scaleY,d,f),l=c=null,function(h){for(var y=-1,g=f.length,m;++y<g;)d[(m=f[y]).i]=m.x(h);return d.join("")}}}var Cs=kr(zs,"px, ","px)","deg)"),Is=kr(Ts,", ",")",")"),Ps=1e-12;function Fn(t){return((t=Math.exp(t))+1/t)/2}function Ds(t){return((t=Math.exp(t))-1/t)/2}function Rs(t){return((t=Math.exp(2*t))-1)/(t+1)}const qs=function t(e,n,r){function i(o,s){var a=o[0],u=o[1],l=o[2],c=s[0],d=s[1],f=s[2],h=c-a,y=d-u,g=h*h+y*y,m,_;if(g<Ps)_=Math.log(f/l)/e,m=function(S){return[a+S*h,u+S*y,l*Math.exp(e*S*_)]};else{var w=Math.sqrt(g),x=(f*f-l*l+r*g)/(2*l*n*w),p=(f*f-l*l-r*g)/(2*f*n*w),b=Math.log(Math.sqrt(x*x+1)-x),E=Math.log(Math.sqrt(p*p+1)-p);_=(E-b)/e,m=function(S){var F=S*_,O=Fn(b),T=l/(n*w)*(O*Rs(e*F+b)-Ds(b));return[a+T*h,u+T*y,l*O/Fn(e*F+b)]}}return m.duration=_*1e3*e/Math.SQRT2,m}return i.rho=function(o){var s=Math.max(.001,+o),a=s*s,u=a*a;return t(s,a,u)},i}(Math.SQRT2,2,4);var Dt=0,Xt=0,Lt=0,Mr=1e3,ye,Ht,ve=0,At=0,Ne=0,Qt=typeof performance=="object"&&performance.now?performance:Date,Nr=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Je(){return At||(Nr(Fs),At=Qt.now()+Ne)}function Fs(){At=0}function we(){this._call=this._time=this._next=null}we.prototype=tn.prototype={constructor:we,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Je():+n)+(e==null?0:+e),!this._next&&Ht!==this&&(Ht?Ht._next=this:ye=this,Ht=this),this._call=t,this._time=n,Ve()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ve())}};function tn(t,e,n){var r=new we;return r.restart(t,e,n),r}function Os(){Je(),++Dt;for(var t=ye,e;t;)(e=At-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Dt}function On(){At=(ve=Qt.now())+Ne,Dt=Xt=0;try{Os()}finally{Dt=0,$s(),At=0}}function Ls(){var t=Qt.now(),e=t-ve;e>Mr&&(Ne-=e,ve=t)}function $s(){for(var t,e=ye,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:ye=n);Ht=t,Ve(r)}function Ve(t){if(!Dt){Xt&&(Xt=clearTimeout(Xt));var e=t-At;e>24?(t<1/0&&(Xt=setTimeout(On,t-Qt.now()-Ne)),Lt&&(Lt=clearInterval(Lt))):(Lt||(ve=Qt.now(),Lt=setInterval(Ls,Mr)),Dt=1,Nr(On))}}function Ln(t,e,n){var r=new we;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var Vs=Jt("start","end","cancel","interrupt"),Xs=[],Ar=0,$n=1,Xe=2,ce=3,Vn=4,He=5,fe=6;function Ae(t,e,n,r,i,o){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;Hs(t,n,{name:e,index:r,group:i,on:Vs,tween:Xs,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Ar})}function en(t,e){var n=lt(t,e);if(n.state>Ar)throw new Error("too late; already scheduled");return n}function dt(t,e){var n=lt(t,e);if(n.state>ce)throw new Error("too late; already running");return n}function lt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Hs(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=tn(o,0,n.time);function o(l){n.state=$n,n.timer.restart(s,n.delay,n.time),n.delay<=l&&s(l-n.delay)}function s(l){var c,d,f,h;if(n.state!==$n)return u();for(c in r)if(h=r[c],h.name===n.name){if(h.state===ce)return Ln(s);h.state===Vn?(h.state=fe,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete r[c]):+c<e&&(h.state=fe,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete r[c])}if(Ln(function(){n.state===ce&&(n.state=Vn,n.timer.restart(a,n.delay,n.time),a(l))}),n.state=Xe,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Xe){for(n.state=ce,i=new Array(f=n.tween.length),c=0,d=-1;c<f;++c)(h=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++d]=h);i.length=d+1}}function a(l){for(var c=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(u),n.state=He,1),d=-1,f=i.length;++d<f;)i[d].call(t,c);n.state===He&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){n.state=fe,n.timer.stop(),delete r[e];for(var l in r)return;delete t.__transition}}function he(t,e){var n=t.__transition,r,i,o=!0,s;if(n){e=e==null?null:e+"";for(s in n){if((r=n[s]).name!==e){o=!1;continue}i=r.state>Xe&&r.state<He,r.state=fe,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[s]}o&&delete t.__transition}}function Bs(t){return this.each(function(){he(this,t)})}function Ys(t,e){var n,r;return function(){var i=dt(this,t),o=i.tween;if(o!==n){r=n=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===e){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function js(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=dt(this,t),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:e,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===e){i[u]=a;break}u===l&&i.push(a)}o.tween=i}}function Us(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=lt(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===t)return s.value;return null}return this.each((e==null?Ys:js)(n,t,e))}function nn(t,e,n){var r=t._id;return t.each(function(){var i=dt(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return lt(i,r).value[e]}}function Er(t,e){var n;return(typeof e=="number"?at:e instanceof Nt?_e:(n=Nt(e))?(e=n,_e):xr)(t,e)}function Ks(t){return function(){this.removeAttribute(t)}}function Gs(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ws(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttribute(t);return s===i?null:s===r?o:o=e(r=s,n)}}function Qs(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===r?o:o=e(r=s,n)}}function Zs(t,e,n){var r,i,o;return function(){var s,a=n(this),u;return a==null?void this.removeAttribute(t):(s=this.getAttribute(t),u=a+"",s===u?null:s===r&&u===i?o:(i=u,o=e(r=s,a)))}}function Js(t,e,n){var r,i,o;return function(){var s,a=n(this),u;return a==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),u=a+"",s===u?null:s===r&&u===i?o:(i=u,o=e(r=s,a)))}}function ta(t,e){var n=Me(t),r=n==="transform"?Is:Er;return this.attrTween(t,typeof e=="function"?(n.local?Js:Zs)(n,r,nn(this,"attr."+t,e)):e==null?(n.local?Gs:Ks)(n):(n.local?Qs:Ws)(n,r,e))}function ea(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function na(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function ra(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&na(t,o)),n}return i._value=e,i}function ia(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&ea(t,o)),n}return i._value=e,i}function oa(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Me(t);return this.tween(n,(r.local?ra:ia)(r,e))}function sa(t,e){return function(){en(this,t).delay=+e.apply(this,arguments)}}function aa(t,e){return e=+e,function(){en(this,t).delay=e}}function ua(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?sa:aa)(e,t)):lt(this.node(),e).delay}function la(t,e){return function(){dt(this,t).duration=+e.apply(this,arguments)}}function ca(t,e){return e=+e,function(){dt(this,t).duration=e}}function fa(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?la:ca)(e,t)):lt(this.node(),e).duration}function ha(t,e){if(typeof e!="function")throw new Error;return function(){dt(this,t).ease=e}}function da(t){var e=this._id;return arguments.length?this.each(ha(e,t)):lt(this.node(),e).ease}function ga(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;dt(this,t).ease=n}}function pa(t){if(typeof t!="function")throw new Error;return this.each(ga(this._id,t))}function ma(t){typeof t!="function"&&(t=ar(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=[],u,l=0;l<s;++l)(u=o[l])&&t.call(u,u.__data__,l,o)&&a.push(u);return new wt(r,this._parents,this._name,this._id)}function _a(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var u=e[a],l=n[a],c=u.length,d=s[a]=new Array(c),f,h=0;h<c;++h)(f=u[h]||l[h])&&(d[h]=f);for(;a<r;++a)s[a]=e[a];return new wt(s,this._parents,this._name,this._id)}function ya(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function va(t,e,n){var r,i,o=ya(e)?en:dt;return function(){var s=o(this,t),a=s.on;a!==r&&(i=(r=a).copy()).on(e,n),s.on=i}}function wa(t,e){var n=this._id;return arguments.length<2?lt(this.node(),n).on.on(t):this.each(va(n,t,e))}function xa(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function ba(){return this.on("end.remove",xa(this._id))}function ka(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Ue(t));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],u=a.length,l=o[s]=new Array(u),c,d,f=0;f<u;++f)(c=a[f])&&(d=t.call(c,c.__data__,f,a))&&("__data__"in c&&(d.__data__=c.__data__),l[f]=d,Ae(l[f],e,n,f,l,lt(c,n)));return new wt(o,this._parents,e,n)}function Ma(t){var e=this._name,n=this._id;typeof t!="function"&&(t=sr(t));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var u=r[a],l=u.length,c,d=0;d<l;++d)if(c=u[d]){for(var f=t.call(c,c.__data__,d,u),h,y=lt(c,n),g=0,m=f.length;g<m;++g)(h=f[g])&&Ae(h,e,n,g,f,y);o.push(f),s.push(c)}return new wt(o,s,e,n)}var Na=te.prototype.constructor;function Aa(){return new Na(this._groups,this._parents)}function Ea(t,e){var n,r,i;return function(){var o=Pt(this,t),s=(this.style.removeProperty(t),Pt(this,t));return o===s?null:o===n&&s===r?i:i=e(n=o,r=s)}}function Sr(t){return function(){this.style.removeProperty(t)}}function Sa(t,e,n){var r,i=n+"",o;return function(){var s=Pt(this,t);return s===i?null:s===r?o:o=e(r=s,n)}}function za(t,e,n){var r,i,o;return function(){var s=Pt(this,t),a=n(this),u=a+"";return a==null&&(u=a=(this.style.removeProperty(t),Pt(this,t))),s===u?null:s===r&&u===i?o:(i=u,o=e(r=s,a))}}function Ta(t,e){var n,r,i,o="style."+e,s="end."+o,a;return function(){var u=dt(this,t),l=u.on,c=u.value[o]==null?a||(a=Sr(e)):void 0;(l!==n||i!==c)&&(r=(n=l).copy()).on(s,i=c),u.on=r}}function Ca(t,e,n){var r=(t+="")=="transform"?Cs:Er;return e==null?this.styleTween(t,Ea(t,r)).on("end.style."+t,Sr(t)):typeof e=="function"?this.styleTween(t,za(t,r,nn(this,"style."+t,e))).each(Ta(this._id,t)):this.styleTween(t,Sa(t,r,e),n).on("end.style."+t,null)}function Ia(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Pa(t,e,n){var r,i;function o(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&Ia(t,s,n)),r}return o._value=e,o}function Da(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,Pa(t,e,n??""))}function Ra(t){return function(){this.textContent=t}}function qa(t){return function(){var e=t(this);this.textContent=e??""}}function Fa(t){return this.tween("text",typeof t=="function"?qa(nn(this,"text",t)):Ra(t==null?"":t+""))}function Oa(t){return function(e){this.textContent=t.call(this,e)}}function La(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Oa(i)),e}return r._value=t,r}function $a(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,La(t))}function Va(){for(var t=this._name,e=this._id,n=zr(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,u,l=0;l<a;++l)if(u=s[l]){var c=lt(u,e);Ae(u,t,n,l,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new wt(r,this._parents,t,n)}function Xa(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},u={value:function(){--i===0&&o()}};n.each(function(){var l=dt(this,r),c=l.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(u)),l.on=e}),i===0&&o()})}var Ha=0;function wt(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function zr(){return++Ha}var mt=te.prototype;wt.prototype={constructor:wt,select:ka,selectAll:Ma,selectChild:mt.selectChild,selectChildren:mt.selectChildren,filter:ma,merge:_a,selection:Aa,transition:Va,call:mt.call,nodes:mt.nodes,node:mt.node,size:mt.size,empty:mt.empty,each:mt.each,on:wa,attr:ta,attrTween:oa,style:Ca,styleTween:Da,text:Fa,textTween:$a,remove:ba,tween:Us,delay:ua,duration:fa,ease:da,easeVarying:pa,end:Xa,[Symbol.iterator]:mt[Symbol.iterator]};function Ba(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Ya={time:null,delay:0,duration:250,ease:Ba};function ja(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Ua(t){var e,n;t instanceof wt?(e=t._id,t=t._name):(e=zr(),(n=Ya).time=Je(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,u,l=0;l<a;++l)(u=s[l])&&Ae(u,t,e,l,s,n||ja(u,e));return new wt(r,this._parents,t,e)}te.prototype.interrupt=Bs;te.prototype.transition=Ua;function Ka(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return Tr(this.cover(e,n),e,n,t)}function Tr(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o=t._root,s={data:r},a=t._x0,u=t._y0,l=t._x1,c=t._y1,d,f,h,y,g,m,_,w;if(!o)return t._root=s,t;for(;o.length;)if((g=e>=(d=(a+l)/2))?a=d:l=d,(m=n>=(f=(u+c)/2))?u=f:c=f,i=o,!(o=o[_=m<<1|g]))return i[_]=s,t;if(h=+t._x.call(null,o.data),y=+t._y.call(null,o.data),e===h&&n===y)return s.next=o,i?i[_]=s:t._root=s,t;do i=i?i[_]=new Array(4):t._root=new Array(4),(g=e>=(d=(a+l)/2))?a=d:l=d,(m=n>=(f=(u+c)/2))?u=f:c=f;while((_=m<<1|g)===(w=(y>=f)<<1|h>=d));return i[w]=o,i[_]=s,t}function Ga(t){var e,n,r=t.length,i,o,s=new Array(r),a=new Array(r),u=1/0,l=1/0,c=-1/0,d=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(o=+this._y.call(null,e))||(s[n]=i,a[n]=o,i<u&&(u=i),i>c&&(c=i),o<l&&(l=o),o>d&&(d=o));if(u>c||l>d)return this;for(this.cover(u,l).cover(c,d),n=0;n<r;++n)Tr(this,s[n],a[n],t[n]);return this}function Wa(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var s=i-n||1,a=this._root,u,l;n>t||t>=i||r>e||e>=o;)switch(l=(e<r)<<1|t<n,u=new Array(4),u[l]=a,a=u,s*=2,l){case 0:i=n+s,o=r+s;break;case 1:n=i-s,o=r+s;break;case 2:i=n+s,r=o-s;break;case 3:n=i-s,r=o-s;break}this._root&&this._root.length&&(this._root=a)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this}function Qa(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function Za(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Z(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function Ja(t,e,n){var r,i=this._x0,o=this._y0,s,a,u,l,c=this._x1,d=this._y1,f=[],h=this._root,y,g;for(h&&f.push(new Z(h,i,o,c,d)),n==null?n=1/0:(i=t-n,o=e-n,c=t+n,d=e+n,n*=n);y=f.pop();)if(!(!(h=y.node)||(s=y.x0)>c||(a=y.y0)>d||(u=y.x1)<i||(l=y.y1)<o))if(h.length){var m=(s+u)/2,_=(a+l)/2;f.push(new Z(h[3],m,_,u,l),new Z(h[2],s,_,m,l),new Z(h[1],m,a,u,_),new Z(h[0],s,a,m,_)),(g=(e>=_)<<1|t>=m)&&(y=f[f.length-1],f[f.length-1]=f[f.length-1-g],f[f.length-1-g]=y)}else{var w=t-+this._x.call(null,h.data),x=e-+this._y.call(null,h.data),p=w*w+x*x;if(p<n){var b=Math.sqrt(n=p);i=t-b,o=e-b,c=t+b,d=e+b,r=h.data}}return r}function tu(t){if(isNaN(c=+this._x.call(null,t))||isNaN(d=+this._y.call(null,t)))return this;var e,n=this._root,r,i,o,s=this._x0,a=this._y0,u=this._x1,l=this._y1,c,d,f,h,y,g,m,_;if(!n)return this;if(n.length)for(;;){if((y=c>=(f=(s+u)/2))?s=f:u=f,(g=d>=(h=(a+l)/2))?a=h:l=h,e=n,!(n=n[m=g<<1|y]))return this;if(!n.length)break;(e[m+1&3]||e[m+2&3]||e[m+3&3])&&(r=e,_=m)}for(;n.data!==t;)if(i=n,!(n=n.next))return this;return(o=n.next)&&delete n.next,i?(o?i.next=o:delete i.next,this):e?(o?e[m]=o:delete e[m],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[_]=n:this._root=n),this):(this._root=o,this)}function eu(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function nu(){return this._root}function ru(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function iu(t){var e=[],n,r=this._root,i,o,s,a,u;for(r&&e.push(new Z(r,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(r=n.node,o=n.x0,s=n.y0,a=n.x1,u=n.y1)&&r.length){var l=(o+a)/2,c=(s+u)/2;(i=r[3])&&e.push(new Z(i,l,c,a,u)),(i=r[2])&&e.push(new Z(i,o,c,l,u)),(i=r[1])&&e.push(new Z(i,l,s,a,c)),(i=r[0])&&e.push(new Z(i,o,s,l,c))}return this}function ou(t){var e=[],n=[],r;for(this._root&&e.push(new Z(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var i=r.node;if(i.length){var o,s=r.x0,a=r.y0,u=r.x1,l=r.y1,c=(s+u)/2,d=(a+l)/2;(o=i[0])&&e.push(new Z(o,s,a,c,d)),(o=i[1])&&e.push(new Z(o,c,a,u,d)),(o=i[2])&&e.push(new Z(o,s,d,c,l)),(o=i[3])&&e.push(new Z(o,c,d,u,l))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function su(t){return t[0]}function au(t){return arguments.length?(this._x=t,this):this._x}function uu(t){return t[1]}function lu(t){return arguments.length?(this._y=t,this):this._y}function Cr(t,e,n){var r=new rn(e??su,n??uu,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function rn(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Xn(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var tt=Cr.prototype=rn.prototype;tt.copy=function(){var t=new rn(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=Xn(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var i=0;i<4;++i)(r=e.source[i])&&(r.length?n.push({source:r,target:e.target[i]=new Array(4)}):e.target[i]=Xn(r));return t};tt.add=Ka;tt.addAll=Ga;tt.cover=Wa;tt.data=Qa;tt.extent=Za;tt.find=Ja;tt.remove=tu;tt.removeAll=eu;tt.root=nu;tt.size=ru;tt.visit=iu;tt.visitAfter=ou;tt.x=au;tt.y=lu;function nt(t){return function(){return t}}function St(t){return(t()-.5)*1e-6}function cu(t){return t.index}function Hn(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function fu(t){var e=cu,n=d,r,i=nt(30),o,s,a,u,l,c=1;t==null&&(t=[]);function d(m){return 1/Math.min(a[m.source.index],a[m.target.index])}function f(m){for(var _=0,w=t.length;_<c;++_)for(var x=0,p,b,E,S,F,O,T;x<w;++x)p=t[x],b=p.source,E=p.target,S=E.x+E.vx-b.x-b.vx||St(l),F=E.y+E.vy-b.y-b.vy||St(l),O=Math.sqrt(S*S+F*F),O=(O-o[x])/O*m*r[x],S*=O,F*=O,E.vx-=S*(T=u[x]),E.vy-=F*T,b.vx+=S*(T=1-T),b.vy+=F*T}function h(){if(s){var m,_=s.length,w=t.length,x=new Map(s.map((b,E)=>[e(b,E,s),b])),p;for(m=0,a=new Array(_);m<w;++m)p=t[m],p.index=m,typeof p.source!="object"&&(p.source=Hn(x,p.source)),typeof p.target!="object"&&(p.target=Hn(x,p.target)),a[p.source.index]=(a[p.source.index]||0)+1,a[p.target.index]=(a[p.target.index]||0)+1;for(m=0,u=new Array(w);m<w;++m)p=t[m],u[m]=a[p.source.index]/(a[p.source.index]+a[p.target.index]);r=new Array(w),y(),o=new Array(w),g()}}function y(){if(s)for(var m=0,_=t.length;m<_;++m)r[m]=+n(t[m],m,t)}function g(){if(s)for(var m=0,_=t.length;m<_;++m)o[m]=+i(t[m],m,t)}return f.initialize=function(m,_){s=m,l=_,h()},f.links=function(m){return arguments.length?(t=m,h(),f):t},f.id=function(m){return arguments.length?(e=m,f):e},f.iterations=function(m){return arguments.length?(c=+m,f):c},f.strength=function(m){return arguments.length?(n=typeof m=="function"?m:nt(+m),y(),f):n},f.distance=function(m){return arguments.length?(i=typeof m=="function"?m:nt(+m),g(),f):i},f}const hu=1664525,du=1013904223,Bn=4294967296;function gu(){let t=1;return()=>(t=(hu*t+du)%Bn)/Bn}function pu(t){return t.x}function mu(t){return t.y}var _u=10,yu=Math.PI*(3-Math.sqrt(5));function vu(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,s=.6,a=new Map,u=tn(d),l=Jt("tick","end"),c=gu();t==null&&(t=[]);function d(){f(),l.call("tick",e),n<r&&(u.stop(),l.call("end",e))}function f(g){var m,_=t.length,w;g===void 0&&(g=1);for(var x=0;x<g;++x)for(n+=(o-n)*i,a.forEach(function(p){p(n)}),m=0;m<_;++m)w=t[m],w.fx==null?w.x+=w.vx*=s:(w.x=w.fx,w.vx=0),w.fy==null?w.y+=w.vy*=s:(w.y=w.fy,w.vy=0);return e}function h(){for(var g=0,m=t.length,_;g<m;++g){if(_=t[g],_.index=g,_.fx!=null&&(_.x=_.fx),_.fy!=null&&(_.y=_.fy),isNaN(_.x)||isNaN(_.y)){var w=_u*Math.sqrt(.5+g),x=g*yu;_.x=w*Math.cos(x),_.y=w*Math.sin(x)}(isNaN(_.vx)||isNaN(_.vy))&&(_.vx=_.vy=0)}}function y(g){return g.initialize&&g.initialize(t,c),g}return h(),e={tick:f,restart:function(){return u.restart(d),e},stop:function(){return u.stop(),e},nodes:function(g){return arguments.length?(t=g,h(),a.forEach(y),e):t},alpha:function(g){return arguments.length?(n=+g,e):n},alphaMin:function(g){return arguments.length?(r=+g,e):r},alphaDecay:function(g){return arguments.length?(i=+g,e):+i},alphaTarget:function(g){return arguments.length?(o=+g,e):o},velocityDecay:function(g){return arguments.length?(s=1-g,e):1-s},randomSource:function(g){return arguments.length?(c=g,a.forEach(y),e):c},force:function(g,m){return arguments.length>1?(m==null?a.delete(g):a.set(g,y(m)),e):a.get(g)},find:function(g,m,_){var w=0,x=t.length,p,b,E,S,F;for(_==null?_=1/0:_*=_,w=0;w<x;++w)S=t[w],p=g-S.x,b=m-S.y,E=p*p+b*b,E<_&&(F=S,_=E);return F},on:function(g,m){return arguments.length>1?(l.on(g,m),e):l.on(g)}}}function wu(){var t,e,n,r,i=nt(-30),o,s=1,a=1/0,u=.81;function l(h){var y,g=t.length,m=Cr(t,pu,mu).visitAfter(d);for(r=h,y=0;y<g;++y)e=t[y],m.visit(f)}function c(){if(t){var h,y=t.length,g;for(o=new Array(y),h=0;h<y;++h)g=t[h],o[g.index]=+i(g,h,t)}}function d(h){var y=0,g,m,_=0,w,x,p;if(h.length){for(w=x=p=0;p<4;++p)(g=h[p])&&(m=Math.abs(g.value))&&(y+=g.value,_+=m,w+=m*g.x,x+=m*g.y);h.x=w/_,h.y=x/_}else{g=h,g.x=g.data.x,g.y=g.data.y;do y+=o[g.data.index];while(g=g.next)}h.value=y}function f(h,y,g,m){if(!h.value)return!0;var _=h.x-e.x,w=h.y-e.y,x=m-y,p=_*_+w*w;if(x*x/u<p)return p<a&&(_===0&&(_=St(n),p+=_*_),w===0&&(w=St(n),p+=w*w),p<s&&(p=Math.sqrt(s*p)),e.vx+=_*h.value*r/p,e.vy+=w*h.value*r/p),!0;if(h.length||p>=a)return;(h.data!==e||h.next)&&(_===0&&(_=St(n),p+=_*_),w===0&&(w=St(n),p+=w*w),p<s&&(p=Math.sqrt(s*p)));do h.data!==e&&(x=o[h.data.index]*r/p,e.vx+=_*x,e.vy+=w*x);while(h=h.next)}return l.initialize=function(h,y){t=h,n=y,c()},l.strength=function(h){return arguments.length?(i=typeof h=="function"?h:nt(+h),c(),l):i},l.distanceMin=function(h){return arguments.length?(s=h*h,l):Math.sqrt(s)},l.distanceMax=function(h){return arguments.length?(a=h*h,l):Math.sqrt(a)},l.theta=function(h){return arguments.length?(u=h*h,l):Math.sqrt(u)},l}function xu(t){var e=nt(.1),n,r,i;typeof t!="function"&&(t=nt(t==null?0:+t));function o(a){for(var u=0,l=n.length,c;u<l;++u)c=n[u],c.vx+=(i[u]-c.x)*r[u]*a}function s(){if(n){var a,u=n.length;for(r=new Array(u),i=new Array(u),a=0;a<u;++a)r[a]=isNaN(i[a]=+t(n[a],a,n))?0:+e(n[a],a,n)}}return o.initialize=function(a){n=a,s()},o.strength=function(a){return arguments.length?(e=typeof a=="function"?a:nt(+a),s(),o):e},o.x=function(a){return arguments.length?(t=typeof a=="function"?a:nt(+a),s(),o):t},o}function bu(t){var e=nt(.1),n,r,i;typeof t!="function"&&(t=nt(t==null?0:+t));function o(a){for(var u=0,l=n.length,c;u<l;++u)c=n[u],c.vy+=(i[u]-c.y)*r[u]*a}function s(){if(n){var a,u=n.length;for(r=new Array(u),i=new Array(u),a=0;a<u;++a)r[a]=isNaN(i[a]=+t(n[a],a,n))?0:+e(n[a],a,n)}}return o.initialize=function(a){n=a,s()},o.strength=function(a){return arguments.length?(e=typeof a=="function"?a:nt(+a),s(),o):e},o.y=function(a){return arguments.length?(t=typeof a=="function"?a:nt(+a),s(),o):t},o}function ku(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function xe(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Rt(t){return t=xe(Math.abs(t)),t?t[1]:NaN}function Mu(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],u=0;i>0&&a>0&&(u+a+1>r&&(a=Math.max(1,r-u)),o.push(n.substring(i-=a,i+a)),!((u+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function Nu(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Au=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function be(t){if(!(e=Au.exec(t)))throw new Error("invalid format: "+t);var e;return new on({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}be.prototype=on.prototype;function on(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}on.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Eu(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Ir;function Su(t,e){var n=xe(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Ir=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+xe(t,Math.max(0,e+o-1))[0]}function Yn(t,e){var n=xe(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const jn={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:ku,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Yn(t*100,e),r:Yn,s:Su,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Un(t){return t}var Kn=Array.prototype.map,Gn=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function zu(t){var e=t.grouping===void 0||t.thousands===void 0?Un:Mu(Kn.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?Un:Nu(Kn.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"−":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function l(d){d=be(d);var f=d.fill,h=d.align,y=d.sign,g=d.symbol,m=d.zero,_=d.width,w=d.comma,x=d.precision,p=d.trim,b=d.type;b==="n"?(w=!0,b="g"):jn[b]||(x===void 0&&(x=12),p=!0,b="g"),(m||f==="0"&&h==="=")&&(m=!0,f="0",h="=");var E=g==="$"?n:g==="#"&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",S=g==="$"?r:/[%p]/.test(b)?s:"",F=jn[b],O=/[defgprs%]/.test(b);x=x===void 0?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function T(N){var C=E,z=S,v,A,k;if(b==="c")z=F(N)+z,N="";else{N=+N;var M=N<0||1/N<0;if(N=isNaN(N)?u:F(Math.abs(N),x),p&&(N=Eu(N)),M&&+N==0&&y!=="+"&&(M=!1),C=(M?y==="("?y:a:y==="-"||y==="("?"":y)+C,z=(b==="s"?Gn[8+Ir/3]:"")+z+(M&&y==="("?")":""),O){for(v=-1,A=N.length;++v<A;)if(k=N.charCodeAt(v),48>k||k>57){z=(k===46?i+N.slice(v+1):N.slice(v))+z,N=N.slice(0,v);break}}}w&&!m&&(N=e(N,1/0));var I=C.length+N.length+z.length,R=I<_?new Array(_-I+1).join(f):"";switch(w&&m&&(N=e(R+N,R.length?_-z.length:1/0),R=""),h){case"<":N=C+N+z+R;break;case"=":N=C+R+N+z;break;case"^":N=R.slice(0,I=R.length>>1)+C+N+z+R.slice(I);break;default:N=R+C+N+z;break}return o(N)}return T.toString=function(){return d+""},T}function c(d,f){var h=l((d=be(d),d.type="f",d)),y=Math.max(-8,Math.min(8,Math.floor(Rt(f)/3)))*3,g=Math.pow(10,-y),m=Gn[8+y/3];return function(_){return h(g*_)+m}}return{format:l,formatPrefix:c}}var se,Pr,Dr;Tu({thousands:",",grouping:[3],currency:["$",""]});function Tu(t){return se=zu(t),Pr=se.format,Dr=se.formatPrefix,se}function Cu(t){return Math.max(0,-Rt(Math.abs(t)))}function Iu(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Rt(e)/3)))*3-Rt(Math.abs(t)))}function Pu(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Rt(e)-Rt(t))+1}function sn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const Wn=Symbol("implicit");function an(){var t=new kn,e=[],n=[],r=Wn;function i(o){let s=t.get(o);if(s===void 0){if(r!==Wn)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new kn;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return an(e,n).unknown(r)},sn.apply(i,arguments),i}function Be(){var t=an().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,a=!1,u=0,l=0,c=.5;delete t.unknown;function d(){var f=e().length,h=i<r,y=h?i:r,g=h?r:i;o=(g-y)/Math.max(1,f-u+l*2),a&&(o=Math.floor(o)),y+=(g-y-o*(f-u))*c,s=o*(1-u),a&&(y=Math.round(y),s=Math.round(s));var m=ui(f).map(function(_){return y+o*_});return n(h?m.reverse():m)}return t.domain=function(f){return arguments.length?(e(f),d()):e()},t.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,a=!0,d()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(f){return arguments.length?(a=!!f,d()):a},t.padding=function(f){return arguments.length?(u=Math.min(1,l=+f),d()):u},t.paddingInner=function(f){return arguments.length?(u=Math.min(1,f),d()):u},t.paddingOuter=function(f){return arguments.length?(l=+f,d()):l},t.align=function(f){return arguments.length?(c=Math.max(0,Math.min(1,f)),d()):c},t.copy=function(){return Be(e(),[r,i]).round(a).paddingInner(u).paddingOuter(l).align(c)},sn.apply(d(),arguments)}function Du(t){return function(){return t}}function Ru(t){return+t}var Qn=[0,1];function zt(t){return t}function Ye(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Du(isNaN(e)?NaN:.5)}function qu(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Fu(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=Ye(i,r),o=n(s,o)):(r=Ye(r,i),o=n(o,s)),function(a){return o(r(a))}}function Ou(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=Ye(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var u=Zr(t,a,1,r)-1;return o[u](i[u](a))}}function Lu(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function $u(){var t=Qn,e=Qn,n=Ze,r,i,o,s=zt,a,u,l;function c(){var f=Math.min(t.length,e.length);return s!==zt&&(s=qu(t[0],t[f-1])),a=f>2?Ou:Fu,u=l=null,d}function d(f){return f==null||isNaN(f=+f)?o:(u||(u=a(t.map(r),e,n)))(r(s(f)))}return d.invert=function(f){return s(i((l||(l=a(e,t.map(r),at)))(f)))},d.domain=function(f){return arguments.length?(t=Array.from(f,Ru),c()):t.slice()},d.range=function(f){return arguments.length?(e=Array.from(f),c()):e.slice()},d.rangeRound=function(f){return e=Array.from(f),n=Ss,c()},d.clamp=function(f){return arguments.length?(s=f?!0:zt,c()):s!==zt},d.interpolate=function(f){return arguments.length?(n=f,c()):n},d.unknown=function(f){return arguments.length?(o=f,d):o},function(f,h){return r=f,i=h,c()}}function Vu(){return $u()(zt,zt)}function Xu(t,e,n,r){var i=si(t,e,n),o;switch(r=be(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Iu(i,s))&&(r.precision=o),Dr(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Pu(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Cu(i))&&(r.precision=o-(r.type==="%")*2);break}}return Pr(r)}function Hu(t){var e=t.domain;return t.ticks=function(n){var r=e();return oi(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Xu(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],a=r[o],u,l,c=10;for(a<s&&(l=s,s=a,a=l,l=i,i=o,o=l);c-- >0;){if(l=De(s,a,n),l===u)return r[i]=s,r[o]=a,e(r);if(l>0)s=Math.floor(s/l)*l,a=Math.ceil(a/l)*l;else if(l<0)s=Math.ceil(s*l)/l,a=Math.floor(a*l)/l;else break;u=l}return t},t}function Rr(){var t=Vu();return t.copy=function(){return Lu(t,Rr())},sn.apply(t,arguments),Hu(t)}function Bu(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}const Yu=Bu("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),ae=t=>()=>t;function ju(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function vt(t,e,n){this.k=t,this.x=e,this.y=n}vt.prototype={constructor:vt,scale:function(t){return t===1?this:new vt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new vt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var qr=new vt(1,0,0);vt.prototype;function Pe(t){t.stopImmediatePropagation()}function $t(t){t.preventDefault(),t.stopImmediatePropagation()}function Uu(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Ku(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Zn(){return this.__zoom||qr}function Gu(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Wu(){return navigator.maxTouchPoints||"ontouchstart"in this}function Qu(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function Zu(){var t=Uu,e=Ku,n=Qu,r=Gu,i=Wu,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],a=250,u=qs,l=Jt("start","zoom","end"),c,d,f,h=500,y=150,g=0,m=10;function _(v){v.property("__zoom",Zn).on("wheel.zoom",F,{passive:!1}).on("mousedown.zoom",O).on("dblclick.zoom",T).filter(i).on("touchstart.zoom",N).on("touchmove.zoom",C).on("touchend.zoom touchcancel.zoom",z).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}_.transform=function(v,A,k,M){var I=v.selection?v.selection():v;I.property("__zoom",Zn),v!==I?b(v,A,k,M):I.interrupt().each(function(){E(this,arguments).event(M).start().zoom(null,typeof A=="function"?A.apply(this,arguments):A).end()})},_.scaleBy=function(v,A,k,M){_.scaleTo(v,function(){var I=this.__zoom.k,R=typeof A=="function"?A.apply(this,arguments):A;return I*R},k,M)},_.scaleTo=function(v,A,k,M){_.transform(v,function(){var I=e.apply(this,arguments),R=this.__zoom,L=k==null?p(I):typeof k=="function"?k.apply(this,arguments):k,H=R.invert(L),U=typeof A=="function"?A.apply(this,arguments):A;return n(x(w(R,U),L,H),I,s)},k,M)},_.translateBy=function(v,A,k,M){_.transform(v,function(){return n(this.__zoom.translate(typeof A=="function"?A.apply(this,arguments):A,typeof k=="function"?k.apply(this,arguments):k),e.apply(this,arguments),s)},null,M)},_.translateTo=function(v,A,k,M,I){_.transform(v,function(){var R=e.apply(this,arguments),L=this.__zoom,H=M==null?p(R):typeof M=="function"?M.apply(this,arguments):M;return n(qr.translate(H[0],H[1]).scale(L.k).translate(typeof A=="function"?-A.apply(this,arguments):-A,typeof k=="function"?-k.apply(this,arguments):-k),R,s)},M,I)};function w(v,A){return A=Math.max(o[0],Math.min(o[1],A)),A===v.k?v:new vt(A,v.x,v.y)}function x(v,A,k){var M=A[0]-k[0]*v.k,I=A[1]-k[1]*v.k;return M===v.x&&I===v.y?v:new vt(v.k,M,I)}function p(v){return[(+v[0][0]+ +v[1][0])/2,(+v[0][1]+ +v[1][1])/2]}function b(v,A,k,M){v.on("start.zoom",function(){E(this,arguments).event(M).start()}).on("interrupt.zoom end.zoom",function(){E(this,arguments).event(M).end()}).tween("zoom",function(){var I=this,R=arguments,L=E(I,R).event(M),H=e.apply(I,R),U=k==null?p(H):typeof k=="function"?k.apply(I,R):k,ct=Math.max(H[1][0]-H[0][0],H[1][1]-H[0][1]),K=I.__zoom,ot=typeof A=="function"?A.apply(I,R):A,gt=u(K.invert(U).concat(ct/K.k),ot.invert(U).concat(ct/ot.k));return function(st){if(st===1)st=ot;else{var pt=gt(st),Ee=ct/pt[2];st=new vt(Ee,U[0]-pt[0]*Ee,U[1]-pt[1]*Ee)}L.zoom(null,st)}})}function E(v,A,k){return!k&&v.__zooming||new S(v,A)}function S(v,A){this.that=v,this.args=A,this.active=0,this.sourceEvent=null,this.extent=e.apply(v,A),this.taps=0}S.prototype={event:function(v){return v&&(this.sourceEvent=v),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(v,A){return this.mouse&&v!=="mouse"&&(this.mouse[1]=A.invert(this.mouse[0])),this.touch0&&v!=="touch"&&(this.touch0[1]=A.invert(this.touch0[0])),this.touch1&&v!=="touch"&&(this.touch1[1]=A.invert(this.touch1[0])),this.that.__zoom=A,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(v){var A=G(this.that).datum();l.call(v,this.that,new ju(v,{sourceEvent:this.sourceEvent,target:_,type:v,transform:this.that.__zoom,dispatch:l}),A)}};function F(v,...A){if(!t.apply(this,arguments))return;var k=E(this,A).event(v),M=this.__zoom,I=Math.max(o[0],Math.min(o[1],M.k*Math.pow(2,r.apply(this,arguments)))),R=_t(v);if(k.wheel)(k.mouse[0][0]!==R[0]||k.mouse[0][1]!==R[1])&&(k.mouse[1]=M.invert(k.mouse[0]=R)),clearTimeout(k.wheel);else{if(M.k===I)return;k.mouse=[R,M.invert(R)],he(this),k.start()}$t(v),k.wheel=setTimeout(L,y),k.zoom("mouse",n(x(w(M,I),k.mouse[0],k.mouse[1]),k.extent,s));function L(){k.wheel=null,k.end()}}function O(v,...A){if(f||!t.apply(this,arguments))return;var k=v.currentTarget,M=E(this,A,!0).event(v),I=G(v.view).on("mousemove.zoom",U,!0).on("mouseup.zoom",ct,!0),R=_t(v,k),L=v.clientX,H=v.clientY;mr(v.view),Pe(v),M.mouse=[R,this.__zoom.invert(R)],he(this),M.start();function U(K){if($t(K),!M.moved){var ot=K.clientX-L,gt=K.clientY-H;M.moved=ot*ot+gt*gt>g}M.event(K).zoom("mouse",n(x(M.that.__zoom,M.mouse[0]=_t(K,k),M.mouse[1]),M.extent,s))}function ct(K){I.on("mousemove.zoom mouseup.zoom",null),_r(K.view,M.moved),$t(K),M.event(K).end()}}function T(v,...A){if(t.apply(this,arguments)){var k=this.__zoom,M=_t(v.changedTouches?v.changedTouches[0]:v,this),I=k.invert(M),R=k.k*(v.shiftKey?.5:2),L=n(x(w(k,R),M,I),e.apply(this,A),s);$t(v),a>0?G(this).transition().duration(a).call(b,L,M,v):G(this).call(_.transform,L,M,v)}}function N(v,...A){if(t.apply(this,arguments)){var k=v.touches,M=k.length,I=E(this,A,v.changedTouches.length===M).event(v),R,L,H,U;for(Pe(v),L=0;L<M;++L)H=k[L],U=_t(H,this),U=[U,this.__zoom.invert(U),H.identifier],I.touch0?!I.touch1&&I.touch0[2]!==U[2]&&(I.touch1=U,I.taps=0):(I.touch0=U,R=!0,I.taps=1+!!c);c&&(c=clearTimeout(c)),R&&(I.taps<2&&(d=U[0],c=setTimeout(function(){c=null},h)),he(this),I.start())}}function C(v,...A){if(this.__zooming){var k=E(this,A).event(v),M=v.changedTouches,I=M.length,R,L,H,U;for($t(v),R=0;R<I;++R)L=M[R],H=_t(L,this),k.touch0&&k.touch0[2]===L.identifier?k.touch0[0]=H:k.touch1&&k.touch1[2]===L.identifier&&(k.touch1[0]=H);if(L=k.that.__zoom,k.touch1){var ct=k.touch0[0],K=k.touch0[1],ot=k.touch1[0],gt=k.touch1[1],st=(st=ot[0]-ct[0])*st+(st=ot[1]-ct[1])*st,pt=(pt=gt[0]-K[0])*pt+(pt=gt[1]-K[1])*pt;L=w(L,Math.sqrt(st/pt)),H=[(ct[0]+ot[0])/2,(ct[1]+ot[1])/2],U=[(K[0]+gt[0])/2,(K[1]+gt[1])/2]}else if(k.touch0)H=k.touch0[0],U=k.touch0[1];else return;k.zoom("touch",n(x(L,H,U),k.extent,s))}}function z(v,...A){if(this.__zooming){var k=E(this,A).event(v),M=v.changedTouches,I=M.length,R,L;for(Pe(v),f&&clearTimeout(f),f=setTimeout(function(){f=null},h),R=0;R<I;++R)L=M[R],k.touch0&&k.touch0[2]===L.identifier?delete k.touch0:k.touch1&&k.touch1[2]===L.identifier&&delete k.touch1;if(k.touch1&&!k.touch0&&(k.touch0=k.touch1,delete k.touch1),k.touch0)k.touch0[1]=this.__zoom.invert(k.touch0[0]);else if(k.end(),k.taps===2&&(L=_t(L,this),Math.hypot(d[0]-L[0],d[1]-L[1])<m)){var H=G(this).on("dblclick.zoom");H&&H.apply(this,arguments)}}}return _.wheelDelta=function(v){return arguments.length?(r=typeof v=="function"?v:ae(+v),_):r},_.filter=function(v){return arguments.length?(t=typeof v=="function"?v:ae(!!v),_):t},_.touchable=function(v){return arguments.length?(i=typeof v=="function"?v:ae(!!v),_):i},_.extent=function(v){return arguments.length?(e=typeof v=="function"?v:ae([[+v[0][0],+v[0][1]],[+v[1][0],+v[1][1]]]),_):e},_.scaleExtent=function(v){return arguments.length?(o[0]=+v[0],o[1]=+v[1],_):[o[0],o[1]]},_.translateExtent=function(v){return arguments.length?(s[0][0]=+v[0][0],s[1][0]=+v[1][0],s[0][1]=+v[0][1],s[1][1]=+v[1][1],_):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},_.constrain=function(v){return arguments.length?(n=v,_):n},_.duration=function(v){return arguments.length?(a=+v,_):a},_.interpolate=function(v){return arguments.length?(u=v,_):u},_.on=function(){var v=l.on.apply(l,arguments);return v===l?_:v},_.clickDistance=function(v){return arguments.length?(g=(v=+v)*v,_):Math.sqrt(g)},_.tapDistance=function(v){return arguments.length?(m=+v,_):m},_}function Ju(t,e,n,r){let i=null,o=null;for(let u of n)if(u.id===t&&(i=u),u.id===e&&(o=u),i&&o)break;function s(u,l,c){const d=[];for(let f in u){if(!u.hasOwnProperty(f)||typeof u[f]!="object"||!u[f]||!u[f].link)continue;const h=u[f].link;for(let y of h)c.get(y)===l.id&&d.push(u[f].text)}return d}let a=[];return Array.prototype.push.apply(a,s(i,o,r)),Array.prototype.push.apply(a,s(o,i,r)),a=a.filter(u=>u.length>0),a}function tl(t,e){let n=0;for(let{source:o,target:s}of t)n+=e.get(o)*e.get(s);n/=t.length;const r=.5*n**2;let i=0;for(let{source:o,target:s}of t)i+=Math.pow(e.get(o),2)*Math.pow(e.get(s),2);return i/=t.length*2,(n-r)/(i-r)}function el(t){let e,n,r,i="Root:",o,s,a=t[0].root+"",u,l,c,d="Hovered:",f,h,y=t[0].hovered+"",g,m,_;return{c(){e=$("section"),n=$("span"),r=$("p"),r.textContent=i,o=Y(),s=$("p"),u=W(a),l=Y(),c=$("p"),c.textContent=d,f=Y(),h=$("p"),g=W(y),m=Y(),_=tr("svg"),this.h()},l(w){e=V(w,"SECTION",{class:!0});var x=X(e);n=V(x,"SPAN",{class:!0});var p=X(n);r=V(p,"P",{class:!0,"data-svelte-h":!0}),It(r)!=="svelte-1uvqceq"&&(r.textContent=i),o=j(p),s=V(p,"P",{class:!0});var b=X(s);u=Q(b,a),b.forEach(D),l=j(p),c=V(p,"P",{class:!0,"data-svelte-h":!0}),It(c)!=="svelte-1opj1vh"&&(c.textContent=d),f=j(p),h=V(p,"P",{class:!0});var E=X(h);g=Q(E,y),E.forEach(D),p.forEach(D),m=j(x),_=er(x,"svg",{class:!0}),X(_).forEach(D),x.forEach(D),this.h()},h(){q(r,"class","svelte-1cg85u7"),q(s,"class","root svelte-1cg85u7"),q(c,"class","svelte-1cg85u7"),q(h,"class","hover svelte-1cg85u7"),q(n,"class","svelte-1cg85u7"),q(_,"class","svelte-1cg85u7"),q(e,"class","svelte-1cg85u7")},m(w,x){B(w,e,x),P(e,n),P(n,r),P(n,o),P(n,s),P(s,u),P(n,l),P(n,c),P(n,f),P(n,h),P(h,g),P(e,m),P(e,_)},p(w,[x]){x&1&&a!==(a=w[0].root+"")&&rt(u,a),x&1&&y!==(y=w[0].hovered+"")&&rt(g,y)},i:it,o:it,d(w){w&&D(e)}}}const nl=1200,rl=590;function il(t,e,n){const r=je();let{toggle:i=!1}=e,{filter:o={degrees:-1,categories:new Set}}=e,s,a,u,l=[],c=null,d=[],f=null,h={root:"",hovered:""};const y=an(Yu);function g(N,C=!0){const z=y(w.get(N.__data__.id));N.attributes.getNamedItem("r").value=C?15:10,N.attributes.getNamedItem("fill").value=C?"red":z,N.attributes.getNamedItem("stroke-width").value=C?3:1,N.attributes.getNamedItem("stroke").value=C?"#1e1e1e":"#fff"}let m=[],_=[],w=new Map,x=new Map;Zt(async()=>{n(6,m=await fetch("/nodes.json").then(z=>z.json()).then(z=>z)),_=await fetch("/links.json").then(z=>z.json()).then(z=>z),w=await fetch("/degrees.json").then(z=>z.json()).then(z=>new Map(z)),n(7,x=await fetch("/urls.json").then(z=>z.json()).then(z=>new Map(z))),f=await fetch("/categories.json").then(z=>z.json()).then(z=>new Map(z)),r("degrees",{degrees:w}),r("categories",{categories:f});function N({transform:z}){a.attr("transform",z)}const C=Zu().scaleExtent([.01,20]).on("zoom",N);s=G("svg").call(C),a=s.append("g"),u=vu(m).force("x",xu()).force("y",bu()).force("charge",wu().strength(-1e3)).force("link",fu(_).id(z=>z.id).distance(200)),u.on("tick",()=>{a.selectAll("line").attr("x1",z=>z.source.x).attr("y1",z=>z.source.y).attr("x2",z=>z.target.x).attr("y2",z=>z.target.y),a.selectAll("circle").attr("cx",z=>z.x).attr("cy",z=>z.y)}),O()});const p=[nl/2,rl/2];function b(N,C){(!c||c&&c.__data__.id!==C.id)&&G(this).attr("fill","blue"),n(0,h.hovered=C.id,h)}function E(){(!c||c&&c.__data__.id!==G(this).data()[0].id)&&G(this).attr("fill",N=>y(w.get(N.id))),n(0,h.hovered="",h)}function S(N){const C=G(this)._groups[0][0];N.shiftKey?(c?(g(c,!1),c.__data__.id!==C.__data__.id?(n(4,c=C),g(c)):n(4,c=null)):(n(4,c=C),g(c)),O()):(d.find(z=>z.__data__.id===C.__data__.id)?d.splice(d.indexOf(C),1)&&g(C,!1):d.push(C)&&g(C),n(5,d=[...new Set(d)]),c&&g(c))}function F(N){function C(A){A.active||N.alphaTarget(.3).restart(),A.subject.fx=A.subject.x,A.subject.fy=A.subject.y}function z(A){A.subject.fx=A.x,A.subject.fy=A.y}function v(A){A.active||N.alphaTarget(0),A.subject.fx=null,A.subject.fy=null}return os().on("start",C).on("drag",z).on("end",v)}function O(){let N=[...m],C;c==null?C=_:C=_.filter(M=>M.source.id===c.__data__.id||M.target.id===c.__data__.id);const z=new Set(C.flatMap(M=>[M.source.id,M.target.id]));let v=N.filter(M=>z.has(M.id));c==null?v=N:z.size===0&&(v=N.filter(M=>M.id===c.__data__.id)),v=v.filter(M=>w.get(M.id)>=o.degrees&&(o.categories.size===0||f.get(M.id).some(I=>o.categories.has(I.text)))),C=C.filter(M=>v.some(I=>I.id===M.source.id)&&v.some(I=>I.id===M.target.id));let A;try{A=a.selectAll("line").data(C,M=>`${M.source.id}-${M.target.id}`),A.exit().remove()}catch{console.error("oops");return}A.enter().append("line").attr("stroke","#999").attr("stroke-opacity",.4).merge(A).attr("transform",`translate(${p})`).attr("x1",M=>M.source.x).attr("y1",M=>M.source.y).attr("x2",M=>M.target.x).attr("y2",M=>M.target.y);const k=a.selectAll("circle").data(v,M=>M.id);k.exit().remove(),k.enter().append("circle").attr("transform",`translate(${p})`).attr("r",10).attr("stroke","#fff").attr("stroke-width",1).attr("fill",M=>y(w.get(M.id))).on("mouseover",b).on("mouseout",E).on("click",S).merge(k).attr("cx",M=>M.x).attr("cy",M=>M.y).call(F(u)),a.selectAll("circle").raise()}function T(){c&&(g(c,!1),c.dispatchEvent(new MouseEvent("click",{shiftKey:!0})));for(const N of d)g(N,!1);n(5,d=[]),n(2,o={degrees:-1,categories:new Set})}return t.$$set=N=>{"toggle"in N&&n(1,i=N.toggle),"filter"in N&&n(2,o=N.filter)},t.$$.update=()=>{if(t.$$.dirty&4&&(o.degrees!==-1||o.categories.size)&&O(),t.$$.dirty&68&&o.node){const N=m.find(C=>C.id.toUpperCase().replace(" ","")===o.node.toUpperCase().replace(" ",""));N&&Jo("circle")._groups[0].forEach(C=>{C.__data__.id===N.id&&C.dispatchEvent(new MouseEvent("click",{shiftKey:!0}))})}t.$$.dirty&2&&i&&(T(),n(1,i=!1),r("cleared")),t.$$.dirty&232&&d&&(d.length===2?n(3,l=Ju(d[0].__data__.id,d[1].__data__.id,m,x)):n(3,l=[]),r("selection",{arr:d.map(N=>N.__data__.id),edges:l})),t.$$.dirty&16&&c&&n(0,h.root=c.__data__.id,h),t.$$.dirty&16&&c===null&&n(0,h.root="",h)},[h,i,o,l,c,d,m,x]}class ol extends Ft{constructor(e){super(),Ot(this,e,il,el,qt,{toggle:1,filter:2})}}function sl(t){let e,n,r,i,o=t[0]?": "+t[0]:": all categories",s,a,u,l,c,d,f,h=t[2]>=0?"Degree: "+t[2]:"",y,g,m,_=t[3]>=0?"#Nodes: "+t[3]:"",w,x,p;return{c(){e=$("section"),n=$("span"),r=$("p"),i=W("Degree Distribution "),s=W(o),a=Y(),u=$("p"),l=W("Assortativity: "),c=W(t[1]),d=Y(),f=$("p"),y=W(h),g=Y(),m=$("p"),w=W(_),x=Y(),p=tr("svg"),this.h()},l(b){e=V(b,"SECTION",{id:!0,class:!0});var E=X(e);n=V(E,"SPAN",{class:!0});var S=X(n);r=V(S,"P",{class:!0});var F=X(r);i=Q(F,"Degree Distribution "),s=Q(F,o),F.forEach(D),a=j(S),u=V(S,"P",{class:!0});var O=X(u);l=Q(O,"Assortativity: "),c=Q(O,t[1]),O.forEach(D),d=j(S),f=V(S,"P",{class:!0});var T=X(f);y=Q(T,h),T.forEach(D),g=j(S),m=V(S,"P",{class:!0});var N=X(m);w=Q(N,_),N.forEach(D),S.forEach(D),x=j(E),p=er(E,"svg",{width:!0,height:!0,class:!0}),X(p).forEach(D),E.forEach(D),this.h()},h(){q(r,"class","svelte-51qw4j"),q(u,"class","svelte-51qw4j"),q(f,"class","svelte-51qw4j"),q(m,"class","svelte-51qw4j"),q(n,"class","svelte-51qw4j"),q(p,"width","1200"),q(p,"height","590"),q(p,"class","svelte-51qw4j"),q(e,"id","distribution"),q(e,"class","svelte-51qw4j")},m(b,E){B(b,e,E),P(e,n),P(n,r),P(r,i),P(r,s),P(n,a),P(n,u),P(u,l),P(u,c),P(n,d),P(n,f),P(f,y),P(n,g),P(n,m),P(m,w),P(e,x),P(e,p)},p(b,[E]){E&1&&o!==(o=b[0]?": "+b[0]:": all categories")&&rt(s,o),E&2&&rt(c,b[1]),E&4&&h!==(h=b[2]>=0?"Degree: "+b[2]:"")&&rt(y,h),E&8&&_!==(_=b[3]>=0?"#Nodes: "+b[3]:"")&&rt(w,_)},i:it,o:it,d(b){b&&D(e)}}}function al(t,e,n){let{degrees:r=new Map}=e,{categories_map:i=new Map}=e,{dist_filter:o=void 0}=e,s=0,a=[],u=-1,l=-1;function c(d){let f=new Map;if(o)for(const T of d.keys())i.get(T).find(N=>N.text==o)&&f.set(T,d.get(T));else f=d;const h={};for(const T of f.values())h[T]=(h[T]||0)+1;const y=Object.keys(h).map(Number),g=Object.values(h),m=G("svg"),_={top:40,right:20,bottom:50,left:70};let w,x;try{m.attr("width"),w=+m.attr("width")-_.left-_.right,x=+m.attr("height")-_.top-_.bottom}catch{console.error("oops");return}m.selectAll("*").remove();const p=m.append("g").attr("transform",`translate(${_.left},${_.top})`),b=30,E=.1;let S=Be().domain(y).range([0,w]).padding(E);S.bandwidth()>b&&(S=Be().domain(y).range([0,y.length*(b+b*E)]).padding(E));const O=Rr().domain([0,ai(g)]).nice().rangeRound([x,0]);p.append("g").attr("transform",`translate(0,${x})`).call(pi(S).tickFormat(T=>T)).selectAll("text").attr("fill","white").attr("dy","0.35em").attr("x",10).attr("y",10).attr("transform","rotate(45)").style("text-anchor","start"),m.append("text").attr("fill","white").attr("x",_.left+w/2).attr("y",x+_.top+_.bottom).attr("text-anchor","middle").attr("font-size","10px").text("Degree"),p.append("g").call(mi(O).ticks(10,"d")).append("text").attr("fill","white").attr("transform","rotate(-90)").attr("y",-50).attr("dy","0.71em").attr("text-anchor","middle").text("Count"),p.selectAll(".bar").data(y).enter().append("rect").attr("class","bar").attr("x",T=>S(T)).attr("y",T=>O(h[T])).attr("width",S.bandwidth()).attr("height",T=>x-O(h[T])).attr("fill","white").on("mouseover",function(T){G(this).attr("fill","steelblue"),n(2,u=T.srcElement.__data__),n(3,l=h[T.srcElement.__data__])}).on("mouseout",function(T){G(this).attr("fill","white"),n(2,u=-1),n(3,l=-1)}),p.selectAll(".bar-text").data(y).enter().append("text").attr("x",T=>S(T)+S.bandwidth()/2).attr("y",T=>O(h[T])-5).attr("text-anchor","middle").attr("fill","white").attr("font-size",".8em").text(T=>h[T])}return Zt(async()=>{c(r),a=await fetch("/links.json").then(d=>d.json()).then(d=>d),n(1,s=tl(a,r)),n(1,s=Math.round(s*1e3)/1e3)}),t.$$set=d=>{"degrees"in d&&n(4,r=d.degrees),"categories_map"in d&&n(5,i=d.categories_map),"dist_filter"in d&&n(0,o=d.dist_filter)},t.$$.update=()=>{t.$$.dirty&17&&o&&c(r),t.$$.dirty&17&&o===void 0&&c(r)},[o,s,u,l,r,i]}class ul extends Ft{constructor(e){super(),Ot(this,e,al,sl,qt,{degrees:4,categories_map:5,dist_filter:0})}}function Jn(t){let e,n;return e=new Br({}),e.$on("search",t[16]),{c(){Bt(e.$$.fragment)},l(r){Yt(e.$$.fragment,r)},m(r,i){jt(e,r,i),n=!0},p:it,i(r){n||(ft(e.$$.fragment,r),n=!0)},o(r){yt(e.$$.fragment,r),n=!1},d(r){Ut(e,r)}}}function ll(t){let e,n;return e=new ol({props:{toggle:t[2],filter:t[8]}}),e.$on("cleared",t[11]),e.$on("selection",t[12]),e.$on("categories",t[13]),e.$on("degrees",t[14]),{c(){Bt(e.$$.fragment)},l(r){Yt(e.$$.fragment,r)},m(r,i){jt(e,r,i),n=!0},p(r,i){const o={};i&4&&(o.toggle=r[2]),i&256&&(o.filter=r[8]),e.$set(o)},i(r){n||(ft(e.$$.fragment,r),n=!0)},o(r){yt(e.$$.fragment,r),n=!1},d(r){Ut(e,r)}}}function cl(t){let e,n;return e=new ul({props:{degrees:t[7],categories_map:t[5],dist_filter:t[9]}}),{c(){Bt(e.$$.fragment)},l(r){Yt(e.$$.fragment,r)},m(r,i){jt(e,r,i),n=!0},p(r,i){const o={};i&128&&(o.degrees=r[7]),i&32&&(o.categories_map=r[5]),i&512&&(o.dist_filter=r[9]),e.$set(o)},i(r){n||(ft(e.$$.fragment,r),n=!0)},o(r){yt(e.$$.fragment,r),n=!1},d(r){Ut(e,r)}}}function fl(t){let e,n,r,i,o,s,a,u,l,c=t[0]&&Jn(t);r=new Ur({props:{selected_arr:t[4],edges:t[3],categories_map:t[5],degrees:t[7]}}),o=new Vr({props:{categories_set:t[6],show_distribution:t[1]}}),o.$on("clear",t[10]),o.$on("filter",t[15]);const d=[cl,ll],f=[];function h(y,g){return y[1]?0:1}return a=h(t),u=f[a]=d[a](t),{c(){e=$("main"),c&&c.c(),n=Y(),Bt(r.$$.fragment),i=Y(),Bt(o.$$.fragment),s=Y(),u.c(),this.h()},l(y){e=V(y,"MAIN",{class:!0});var g=X(e);c&&c.l(g),n=j(g),Yt(r.$$.fragment,g),i=j(g),Yt(o.$$.fragment,g),s=j(g),u.l(g),g.forEach(D),this.h()},h(){q(e,"class","svelte-c4dur0")},m(y,g){B(y,e,g),c&&c.m(e,null),P(e,n),jt(r,e,null),P(e,i),jt(o,e,null),P(e,s),f[a].m(e,null),l=!0},p(y,[g]){y[0]?c?(c.p(y,g),g&1&&ft(c,1)):(c=Jn(y),c.c(),ft(c,1),c.m(e,n)):c&&(ln(),yt(c,1,1,()=>{c=null}),un());const m={};g&16&&(m.selected_arr=y[4]),g&8&&(m.edges=y[3]),g&32&&(m.categories_map=y[5]),g&128&&(m.degrees=y[7]),r.$set(m);const _={};g&64&&(_.categories_set=y[6]),g&2&&(_.show_distribution=y[1]),o.$set(_);let w=a;a=h(y),a===w?f[a].p(y,g):(ln(),yt(f[w],1,1,()=>{f[w]=null}),un(),u=f[a],u?u.p(y,g):(u=f[a]=d[a](y),u.c()),ft(u,1),u.m(e,null))},i(y){l||(ft(c),ft(r.$$.fragment,y),ft(o.$$.fragment,y),ft(u),l=!0)},o(y){yt(c),yt(r.$$.fragment,y),yt(o.$$.fragment,y),yt(u),l=!1},d(y){y&&D(e),c&&c.d(),Ut(r),Ut(o),f[a].d()}}}function hl(t,e,n){let r=!1,i=!1,o=!1,s=[],a=[],u=new Map,l=new Set,c=new Map,d={degrees:-1,categories:new Set},f="";function h(p){n(0,r=!1),n(8,d={degrees:0,categories:new Set}),n(2,o=!0);const b=document.querySelector("button.clear");b&&b.click()}function y(p){n(2,o=!1)}function g(p){n(4,a=p.detail.arr),n(3,s=p.detail.edges)}function m(p){let b=new Set;n(5,u=p.detail.categories),u.forEach(E=>{E.forEach(S=>{b.add(S.text)})}),n(6,l=b)}function _(p){n(7,c=p.detail.degrees)}function w({detail:p}){if(i){const b=p.categories.values().next().value;n(9,f=b);return}else n(8,d.categories=p.categories,d),n(8,d.degrees=p.degrees,d);n(8,d)}function x(p){n(0,r=!1),n(8,d.node=p.detail.query,d),n(8,d)}return Zt(()=>{document.addEventListener("keydown",p=>{p.key==="Escape"&&h()}),document.addEventListener("keydown",p=>{p.key==="p"&&p.altKey&&n(0,r=!r)}),document.addEventListener("keydown",p=>{p.key==="d"&&p.altKey&&p.ctrlKey&&n(1,i=!i)})}),[r,i,o,s,a,u,l,c,d,f,h,y,g,m,_,w,x]}class ml extends Ft{constructor(e){super(),Ot(this,e,hl,fl,qt,{})}}export{ml as component,pl as universal};
